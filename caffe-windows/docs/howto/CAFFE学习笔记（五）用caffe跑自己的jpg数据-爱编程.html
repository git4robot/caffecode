<!DOCTYPE html>
<!-- saved from url=(0034)http://www.w2bc.com/article/143751 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style id="znBdcsStyle" type="text/css">.bdcs-container .bdcs-main,.bdcs-container .bdcs-main *{box-sizing:content-box;margin:0;padding:0;float:none;clear:none;overflow:hidden;white-space:nowrap;word-wrap:normal;border:0;background:0 0;width:auto;height:auto;max-width:none;min-width:none;max-height:none;min-height:none;border-radius:0;box-shadow:none;transition:none;text-align:left}.bdcs-container .bdcs-clearfix:after{content:'';display:block;clear:both;height:0}.bdcs-container .bdcs-clearfix{zoom:1}.bdcs-container .bdcs-main{overflow:visible}.bdcs-container .bdcs-search{display:block;overflow:visible;position:relative;border-style:solid}.bdcs-container .bdcs-search-form-input-wrap{display:inline-block}.bdcs-container .bdcs-search-form-input{border-width:1px;border-style:solid;display:inline-block;vertical-align:top;text-indent:5px;background-color:#fff;float:left}.bdcs-container .bdcs-search-form-input:focus{border-width:1px;border-style:solid;outline:0}.bdcs-container .bdcs-search-form-submit-wrap{display:inline-block}.bdcs-container .bdcs-search-form-submit{display:inline-block;cursor:pointer;border-width:1px;border-style:solid;vertical-align:top;text-align:center;width:50px;//_overflow:hidden}.bdcs-container .bdcs-search-form-submit-magnifier{width:45px;padding:0;text-indent:-999em;overflow:hidden;background:url(http://znsv.baidu.com/static/customer-search/component/search/magnifier-icon.png) no-repeat center center;_background:url(http://znsv.baidu.com/static/customer-search/component/search/magnifier-icon_ie6.png) no-repeat center center}div#default-searchbox .default-channel-meun{position:relative;width:75px;display:inline-block;vertical-align:middle;cursor:pointer;background:#fff;float:left;overflow:visible}div#default-searchbox .default-channel-current{border:1px solid;position:relative;width:100%;border-right:0}div#default-searchbox .default-channel-current span{margin-left:8px}div#default-searchbox .default-channel-current i{overflow:hidden;width:0;height:0;border-width:6px 6px 0;border-color:#9E9E9E #fff;border-style:solid;display:block;position:absolute;right:10px;top:11px}div.cse-default-channel-container{display:block;position:absolute;z-index:30061000000}div.cse-default-channel-container .default-channel-list{display:none;width:99%;list-style:none;background:#fff;border:1px solid #DDD;border-top:0;margin:0;padding:0}div.cse-default-channel-container .default-channel-list li{background:0 0;line-height:24px;list-style:none;display:block;padding-left:7px;cursor:pointer}div.cse-default-channel-container .default-channel-list li:hover{background:#DDD}.bdcs-container .bdcs-search-form-input-wrap{}.bdcs-container .bdcs-search-form-input-notspan{margin-left:0px;font-family:Arial,Microsoft YaHei,sans-serif;color:#000000;font-size:14px;}.bdcs-container .bdcs-search-form-input .icon-nofocus{left:;right:;top:;height:;width:;}.bdcs-container .bdcs-search{width:301px;height:32px;overflow:visible;border-color:#ffffff;border-radius:0px;border-width:0px;box-shadow:none;background-color:none;}.bdcs-container .bdcs-search-form-input{border-color:#a6a6a6;margin-right:0px;width:238px;height:30px;line-height:30px;font-family:Arial,Microsoft YaHei,sans-serif;color:#000000;font-size:14px;border-radius:0px;background-color:#FFFFFF;}.bdcs-container .bdcs-search-form-input:focus{border-color:#f79646;}.bdcs-container .bdcs-search-form-submit-wrap{}.bdcs-container .bdcs-search-form-submit{border-color:#399CEE;height:30px;width:60px;background-color:#399CEE;color:#FFFFFF;font-family:Arial,Microsoft YaHei,sans-serif;font-size:14px;border-radius:0px;}.bdcs-container .bdcs-search-sug-list{width:px;}.bdcs-container .bdcs-search-sug-list-item{height:28px;line-height:28px;font-family:Arial,SimSun,sans-serif;font-size:14px;}.bdcs-container .bdcs-search-sug-list-item-value{color:#000000;}.bdcs-container .bdcs-hot{width:300px;height:30px;line-height:30px;}.bdcs-container .bdcs-hot-item{color:#000000;font-family:Arial,Microsoft YaHei,sans-serif;font-size:14px;}.bdcs-container .bdcs-clearfix:after{content:'';display:block;clear:both;height:0}.bdcs-container .bdcs-clearfix{zoom:1}.bdcs-container .bdcs-search{overflow:visible;position:relative}.bdcs-container .bdcs-search-sug,.bdcs-container .bdcs-search-sug *{box-sizing:content-box;margin:0;padding:0;float:none;clear:none;overflow:hidden;white-space:nowrap;word-wrap:normal;border:0;background:0 0;width:auto;height:auto;max-width:none;min-width:none;max-height:none;min-height:none;border-radius:0;box-shadow:none;transition:none;text-align:left}.bdcs-container .bdcs-search-sug{display:none;position:absolute;z-index:2147483647}.bdcs-container .bdcs-search-sug-list{list-style:none;border:1px solid #DDD;background-color:#FFF}.bdcs-container .bdcs-search-sug-list{}.bdcs-container .bdcs-search-sug-list-item{display:block;list-style:none;cursor:pointer;padding:0 5px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.bdcs-container .bdcs-search-sug-list-item-current{background-color:#EBEBEB}.bdcs-container .bdcs-search-sug-list-item-author-novel,.bdcs-container .bdcs-search-sug-list-item-author-music,.bdcs-container .bdcs-search-sug-list-item-type-movie{color:#BABABA}.bdcs-container .bdcs-search-sug-list-item-author-novel,.bdcs-container .bdcs-search-sug-list-item-author-music{margin-left:5px}.bdcs-container .bdcs-search-sug-list-item-music{overflow:hidden;*zoom:1}.bdcs-container .bdcs-search-sug-list-item-value-movie{float:left}.bdcs-container .bdcs-search-sug-list-item-type-movie{float:right}.bdcs-container .bdcs-search-sug-skin{display:none;width:85px;height:85px;position:absolute;right:1px;bottom:1px}.bdcs-container .bdcs-search-sug-skin-img{width:85px;height:85px}.bdcs-container .bdcs-search-sug-i{color:#e64fa3;font-weight:700;margin-left:10px;font-family:simsun;font-style:normal}.bdcs-container .bdcs-search-sug-adv{width:105px;position:absolute;right:1px;top:1px;display:none}.bdcs-container .bdcs-search-sug-adv-img{position:absolute;top:0;right:0}.bdcs-container{overflow:visible;}.bdcs-container .bdcs-search-form-submit{*height:32px;*margin-top:1px;}.bdcs-container .bdcs-search-form-submit{line-height:30px;}.bdcs-container .bdcs-search-form-input{margin-right:-1px;}.bdcs-container .bdcs-search-sug-list-item{height:28px;line-height:28px;font-family:Arial,SimSun,sans-serif;font-size:14px;}.bdcs-container .bdcs-search-sug-list-item-value{color:#000000;}.bdcs-container .bdcs-clearfix:after{content:'';display:block;clear:both;height:0}.bdcs-container .bdcs-clearfix{zoom:1}.bdcs-container .bdcs-hot,.bdcs-container .bdcs-hot *{box-sizing:content-box;margin:0;padding:0;float:none;clear:none;overflow:hidden;white-space:nowrap;word-wrap:normal;border:0;background:0 0;width:auto;height:auto;max-width:none;min-width:none;max-height:none;min-height:none;border-radius:0;box-shadow:none;transition:none;text-align:left}.bdcs-container .bdcs-hot{display:block;white-space:normal}.bdcs-container .bdcs-hot-item{margin-right:10px}.bdcs-container .bdcs-hot{width:300px;height:30px;line-height:30px;}.bdcs-container .bdcs-hot-item{color:#000000;font-family:Arial,Microsoft YaHei,sans-serif;font-size:14px;}#bdcs-rec{display:none;}</style>
<title>CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程</title>
<meta name="keywords" content="CAFFE学习笔记（五）用caffe跑自己的jpg数据">
<meta name="description" content="1 收集自己的数据1-1 我的训练集与测试集的来源：表情包由于网上一幅一幅图片下载非常麻烦，所以我干脆下载了两个eif表情包。同一个表情包里的图像都有很强的相似性，因此可以当成一类图像来使用。下载个eif解压包可以把eif文件解压成gif和jpg格式的文件，然后删除gif文件">

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="no-transform">
<meta name="applicable-device" content="pc">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="canonical" href="http://www.w2bc.com/article/143751">
<link href="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/font-awesome.css" rel="stylesheet">
<link href="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/base" rel="stylesheet">
<script src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/hm.js.下载"></script><script type="text/javascript" async="" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/js"></script><script src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/ca-pub-4168987395515775.js.下载"></script><script src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/webBase"></script>
<link href="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/shCore" rel="stylesheet">
<link href="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/style.css" rel="stylesheet">
<script src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/share.js.下载"></script><script type="text/javascript" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/related_items_v2"></script><link rel="stylesheet" href="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/share_style0_16.css"></head>
<body><div id="BAIDU_DUP_fp_wrapper" style="position: absolute; left: -1px; bottom: -1px; z-index: 0; width: 0px; height: 0px; overflow: hidden; visibility: hidden; display: none;"><iframe id="BAIDU_DUP_fp_iframe" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/o.html" style="width: 0px; height: 0px; visibility: hidden; display: none;"></iframe></div>
<div class="navbar navbar-inverse navbar-fixed-top">
<div class="container">
<div class="navbar-header">
<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a title="爱编程|编程网|码农网-程序员的专属社区" href="http://www.w2bc.com/" class="navbar-brand">
<img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/logo.gif">
</a>
</div>
<div class="navbar-collapse collapse">
<ul id="nav" class="nav navbar-nav">
<li><a title="爱编程|编程网|码农网-程序员的专属社区" href="http://www.w2bc.com/">首页</a></li>
<li><a title="html5实例-css3实例-jquery实例" href="http://www.w2bc.com/shili">实例</a></li>
<li><a title="爱问-专注于编程技术的问答社区" href="http://www.w2bc.com/qa">爱问</a></li>
<li><a title="网页设计_网页设计教程_网页设计欣赏_设计网页_优秀网页设计欣赏" href="http://www.w2bc.com/design">设计</a> </li>
<li><a title="程序员,程序员百科,程序员人生,程序员笑话,程序员故事" href="http://www.w2bc.com/programmer">程序员</a> </li>
<li><a href="http://www.w2bc.com/language">编程</a></li>
<li>
<a rel="nofollow" target="_blank" href="javascript:" class="dropdown-toggle" data-toggle="dropdown">工具<b class="caret"></b></a>
<ul class="dropdown-menu">
<li><a target="_blank" href="http://www.w2bc.com/manual/css3%20generator/index.html" title="css3样式生成">css3样式生成</a></li>
<li class="divider"></li>
<li><a target="_blank" href="http://www.w2bc.com/manual/weixincontentedit/index.html" title="微信排版工具">微信排版工具</a></li>
<li class="divider"></li>
<li><a target="_blank" href="http://www.layoutit.cn/" title="bootstrap可视化布局系统">布局神器</a></li>
</ul>
</li>
<li>
<a rel="nofollow" target="_blank" href="javascript:" class="dropdown-toggle" data-toggle="dropdown">教程<b class="caret"></b></a>
<ul class="dropdown-menu">
<li><a href="http://www.w2bc.com/html5" title="html5教程">html5教程</a></li>
<li class="divider"></li>
<li><a href="http://www.w2bc.com/css3" title="css3教程">css3教程</a></li>
<li class="divider"></li>
<li><a href="http://www.w2bc.com/bootstrap" title="bootstrap教程">bootstrap教程</a></li>
</ul>
</li>
<li class="point" style="width: 82px; left: 204px; display: list-item;"></li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li class="logined">
<a rel="nofollow" style="padding:10px 0; " href="http://www.w2bc.com/user/index"></a>
<dl>
<dd> <a rel="nofollow" href="http://passport.w2bc.com/user/quit?sessionKey=">退出登录</a></dd>
</dl>
</li>
<li class="nologin" style="display: list-item;"><a rel="nofollow" href="http://passport.w2bc.com/user/login?appkey=450b14728ad4502aecba32e22fa4f6ac&amp;backurl=http://www.w2bc.com/article/143751">登录</a></li>
<li class="nologin" style="display: list-item;"><a rel="nofollow" target="_blank" href="http://passport.w2bc.com/user/register">注册</a> </li>
</ul>
</div>
</div>
</div>
<div class="container body-content">
<div class="row">
<div class="col-lg-10 hidden-sm hidden-xs adverse">
<ins class="adsbygoogle" style="display:inline-block;width:970px;height:90px" data-ad-client="ca-pub-4168987395515775" data-ad-slot="3016453476" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:970px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:970px;background-color:transparent"><iframe width="970" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;width:970px;height:90px;" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/saved_resource.html"></iframe></ins></ins></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="col-lg-2 hidden-md hidden-sm hidden-xs adverse">
<script type="text/javascript">
    /*200*90 创建于 2015-05-05*/
    var cpro_id = "u2085890";
</script>
<script src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/c.js.下载" type="text/javascript"></script><div id="BAIDU_SSP__wrapper_u2085890_0"><iframe id="iframeu2085890_0" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/ncem.html" width="200" height="90" align="center,center" vspace="0" hspace="0" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" style="border:0;vertical-align:bottom;margin:0;width:200px;height:90px" allowtransparency="true"></iframe></div>
</div>
</div>
<div class="line25 hidden-sm hidden-xs"></div>
<div class="row main">
<div class="col-md-9  article content">
<div class="article_top">
<h3>
CAFFE学习笔记（五）用caffe跑自己的jpg数据
</h3>
<div class="article_info">
<div class="article_time">
<span>
来源：u013534498
</span>
<span>阅读：458</span>
<span>时间：2016-05-26 21:48</span>
</div>
<span class="hidden-xs">分享：</span>
<div class="bdsharebuttonbox hidden-xs bdshare-button-style0-16" data-tag="share_1" data-bd-bind="1496972868130">
<a class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
<a class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
<a class="bds_weixin" data-cmd="weixin" title="分享到微信">
</a>
<a class="bds_tieba" data-cmd="tieba" title="分享到百度贴吧"></a>
<a class="bds_count" data-cmd="count" title="累计分享0次">0</a>
</div>
<script>
    window._bd_share_config = {
        common: {
            bdSnsKey: { 'tsina': '1868087828' },
            bdText: "【CAFFE学习笔记（五）用caffe跑自己的jpg数据】1 收集自己的数据1-1 我的训练集与测试集的来源：表情包由于网上一幅一幅图片下载非常麻烦，所以我干脆下载了两个eif表情包。同一个表情包里的图像都有很强的相...@爱编程-拎壶充",
            bdDesc: '自定义分享摘要',
            bdMini: "2",
            bdUrl: "http://www.w2bc.com/article/143751",
            bdPic: "http://pic.w2bc.com/upload/201605/26/201605262148016387.png",
            onAfterClick: function (cmd) {
                $.getJSON("/Article/ShareCount/143751", function () {
                });
            }
        },
        share: [{
            "bdSize": 12
        }]
    }
    with (document) 0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion=' + ~(-new Date() / 36e5)];
</script>
</div>
<p class="line10"></p>
</div>
<div class="article_con">
<h1 id="1-收集自己的数据">1 收集自己的数据</h1>
<h2 id="1-1-我的训练集与测试集的来源表情包">1-1 我的训练集与测试集的来源：表情包</h2>
<p>由于网上一幅一幅图片下载非常麻烦，所以我干脆下载了两个eif表情包。同一个表情包里的图像都有很强的相似性，因此可以当成一类图像来使用。下载个eif解压包可以把eif文件解压成gif和jpg格式的文件，然后删除gif文件，只留下jpg格式的文件，这些图就是我的训练集与测试集了。</p>
<h2 id="1-2-使用rename批量重命名图像">1-2 使用rename批量重命名图像</h2>
<p>（1）对于一个存放了图像src.jpg的文件夹ROOT，在ROOT中新建一个test.txt文件，在里面写下“rename src.jpg dst.jpg”，然后将该txt后缀名改为bat，双击test.bat，即可将src.jpg重命名为dst.jpg。</p>
<p>（2）利用上一次博客中说过的方法，将ROOT文件夹下所有的文件名皆存入一个txt文件中，即可方便地将ROOT文件夹下所有的图像都重命名。</p>
<p>（3）举一个例子。重命名前的ROOT下是这样的：</p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148016387.png" alt="这里写图片描述" title=""></p>
<p>参考《CAFFE学习笔记（四）》的内容，得到一个装了ROOT文件夹下所有文件名的txt文件，稍加查找与替换，得到如下的txt文件：</p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148021387.png" alt="这里写图片描述" title=""></p>
<p>后缀名改成bat后再运行，得到的结果如下图所示。并没有全部转成功，估计是因为文件名里这些乱七八糟的符号中的一部分是不被test.bat认可的。</p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148027793.png" alt="这里写图片描述" title=""></p>
<p>没有办法，只能先把上面这些符号改整齐了。将上面的图像全选，对第一个文件重命名成“biao.jpg”，也就是最简单的那种统一重命名法，则会出现如下情况：</p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148039825.png" alt="这里写图片描述" title=""></p>
<p>但是这里的名称有空格也有括号，我担心会对caffe的训练造成影响，所以还是得用test.bat把文件名全部转成“biaoX.jpg”。</p>
<p>这里应该提出一点，当文件名中含空格时，是无法直接用刚才的“rename src.jpg dst.jpg”的方法令它重命名成功的。解决方案是在test.bat文件中用双引号将含空格的src.jpg括起来，即：</p>
<pre class="prettyprint"><code class="hljs avrasm has-numbering">rename “src<span class="hljs-preprocessor">.jpg</span>” dst<span class="hljs-preprocessor">.jpg</span></code><ul class="pre-numbering"><li>1</li></ul></pre>
<p>正如下图所示，应使用双引号将含空格的src.jpg全都括起来。</p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148047325.png" alt="这里写图片描述" title=""></p>
<p>而这一次就全部转换成功了。</p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148049512.png" alt="这里写图片描述" title=""></p>
<p>（4）刚才获取的是第一套jpg库“表情猫”，现在我们获取第二套jpg库“真猫”。上面制作的这个test.bat文件很有用，可以使用查找与替换功能把里面的“biao”换成“zhen”，然后粘贴到“真猫”的文件夹下：</p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148061856.png" alt="这里写图片描述" title=""></p>
<p>于是瞬间就能重命名另一套jpg数据库：</p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148063888.png" alt="这里写图片描述" title=""></p>
<h2 id="1-3-制作traintxt和valtxt">1-3 制作train.txt和val.txt</h2>
<p>应该注意，这两个txt文件具体应该怎么填写，要和train、val文件夹里是怎么放图像的一一对应起来。</p>
<p>以我的为例，我的train文件夹里还有两个子文件夹，一个叫“zhen”（里面放了50张真猫），一个叫“biao”（里面放了50张表情猫）：</p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148106388.png" alt="这里写图片描述" title=""></p>
<p>于是对应的train.txt还要指明各幅图像所在的子文件夹是哪一个。</p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148108888.png" alt="这里写图片描述" title=""></p>
<p>同理，我的val文件夹没有放子文件夹，而是直接里面就有20张测试图：</p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148110763.png" alt="这里写图片描述" title=""></p>
<p>因此对应的val.txt也不必指明子文件夹。</p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148129826.png" alt="这里写图片描述" title=""></p>
<p>实际上train.txt与val.txt存放的正是各幅图像的“相对路径+label”。</p>
<h1 id="2-将训练集与测试集转成leveldb格式">2 将训练集与测试集转成leveldb格式</h1>
<p>阅读本部分内容前请先参考《<a href="http://blog.csdn.net/u013534498/article/details/51387517" rel="nofollow">CAFFE学习笔记（四）将自己的数据转成lmdb格式</a>》，本次博客将在它的基础上对最后那三个疑难问题提出解决方案，并生成能用的leveldb格式文件。</p>
<h2 id="问题一为什么上一次博客最后拿生成的lmdb文件去训练会失败">问题一：为什么上一次博客最后拿生成的lmdb文件去训练会失败？</h2>
<p>如果打开lmdb文件的文件夹可以发现，按以上方法所生成的lmdb文件只有8KB这么小（事实上不论是lmdb还是leveldb都是对图片集的打包，lmdb或leveldb文件的大小应该和训练集、测试集大小差不多才对），这说明在“利用create_imagenet.sh生成lmdb文件”这一步并没有把训练集和测试集打包成功。</p>
<p>这便是上一次博客中那三个遗留问题中3-2的答案，也就是说输入数据有问题。所生成的lmdb文件是无效的，这就是为什么拿这样的lmdb文件去训练会失败了。</p>
<h2 id="问题二生成lmdb文件报错check-failed-mdbstatus-0-112-vs-0">问题二：生成lmdb文件报错Check failed: mdb_status == 0 (112 vs. 0)</h2>
<p>lmdb文件打包失败的标志是会在运行create_imagenet.sh时出现：</p>
<pre class="prettyprint"><code class="hljs fix has-numbering"><span class="hljs-attribute">Check failed: mdb_status =</span>=<span class="hljs-string"> 0 (112 vs. 0)</span></code><ul class="pre-numbering"><li>1</li></ul></pre>
<p>在网上找了很久，最后在一个CSDN的提问上看到，有人说是因为windows下不能使用lmdb数据格式，因此应该在create_imagenet.sh这一步设置令生成leveldb文件。</p>
<p>这就是对上一次博客最后的3-1的解答，只要出现这样的错误提示，就意味着你的lmdb数据是不能用的了。我不知道是不是只有windows系统会出现这样的问题，总而言之这错误的解决方案就是不要再生成lmdb格式文件了，而是设定create_imagenet.sh使之生成leveldb格式的文件。</p>
<h2 id="问题三如何使用createimagenetsh生成leveldb格式的文件">问题三：如何使用create_imagenet.sh生成leveldb格式的文件？</h2>
<p>现在来解决上一次博客中的3-3。如我们所知，在caffe中默认的数据格式是lmdb，因此在上一次博客中无须指定生成的是lmdb还是leveldb，create_imagenet.sh就会自动生成lmdb格式的文件。但是刚才也说了，windows下是不能用lmdb格式文件的（能不能用不知道，反正我在将jpg图打包成lmdb格式文件这一步就会出错），因此需要对create_imagenet.sh进行一些设置，让它把jpg图打包成leveldb格式的文件。</p>
<p>方法是在create_imagenet.sh文件中加入下面一行语句：</p>
<pre class="prettyprint"><code class="hljs fix has-numbering"><span class="hljs-attribute">--backend</span>=<span class="hljs-string">leveldb</span></code><ul class="pre-numbering"><li>1</li></ul></pre>
<p>如图所示，将这行语句加在下图中的位置，即可指定令create_imagenet.sh生成leveldb格式的文件，不要忘记后面的反斜杠。</p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148136232.png" alt="这里写图片描述" title=""></p>
<p>本部分工作将在CAFFE_ROOT/data/myself中执行，其中myself是我自己新建的文件夹，里面放了全部的训练数据train，全部的测试数据val，以及给出了各训练数据与测试数据标签的txt文件train.txt、val.txt。</p>
<p>在执行create_imagenet.sh后，myself文件夹中将新增两个文件夹imagenet_train_leveldb与imagenet_val_leveldb，这就是所生成的leveldb文件。</p>
<h1 id="3-计算图像均值">3 计算图像均值</h1>
<h2 id="3-1-生成computeimagemeanexe文件">3-1 生成compute_image_mean.exe文件</h2>
<p>按照《<a href="http://blog.csdn.net/u013534498/article/details/51387416" rel="nofollow">CAFFE学习笔记（三）在VS2013下生成需要的exe文件</a>》中的步骤，将tools文件夹下的compute_image_mean.cpp文件加载到caffe的VS2013工程中去，然后生成一个compute_image_mean.exe。</p>
<p>不过这里注意，build后生成的名称是Caffe.exe，为了使得下一次build别的cpp文件时该compute_image_mean.cpp文件能够不被抹除，应该将compute_image_mean.cpp生成的这个Caffe.exe重命名为compute_image_mean.exe。</p>
<h2 id="3-2-编辑makeimagenetmeansh">3-2 编辑make_imagenet_mean.sh</h2>
<p>在CAFFE_ROOT/examples/imagenet下有一个sh文件make_imagenet_mean.sh，将它拷贝到CAFFE_ROOT/data/myself中，然后打开这个文件进行编辑。</p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148138576.png" alt="这里写图片描述" title=""></p>
<p>应注意，这里默认的也是对lmdb文件求平均值，因此必须指定“是对leveldb文件求平均值”。如果不加这句，则会出现“check failure”。</p>
<p>当执行完make_imagenet_mean.sh后，将会在CAFFE_ROOT/data/myself下生成一个文件imagenet_mean.binaryproto。</p>
<h1 id="4-网络定义">4 网络定义</h1>
<p>这一节的内容请一定要联系《CAFFE学习笔记（一）Caffe_Example之训练mnist》，本次博客所使用的网络虽然和lenet有所不同，多出一个“设置平均值文件路径”（即刚才生成的imagenet_mean.binaryproto），不过大体的流程是一样的，都是需要设置“两个prototxt文件+一个sh文件”。</p>
<h2 id="4-1-设置trainvalprototxt文件">4-1 设置train_val.prototxt文件</h2>
<p>应说明，在“网络定义”这一步，薛开宇的笔记上记录的并不是这个文件，他是从CAFFE_ROOT\examples\imagenet中拷贝了两个文件imagenet_train.prototxt和imagenet_val.prototxt分别用于训练网络和测试网络。按照他笔记上的描述，我可以推断我用的train_val.prototxt实际上是imagenet_train.prototxt和imagenet_val.prototxt的合体。</p>
<p>为什么用的和他不一样？因为我在我的CAFFE_ROOT\examples\imagenet中根本找不着imagenet_train.prototxt和imagenet_val.prototxt，于是去Caffe的官网搜寻一番，发现Caffe官网中examples\imagenet里也一样没有那两个prototxt文件。而官网的Imagenet这个例子后却有这样一段描述：</p>
<blockquote>
<p>We are going to describe a reference implementation for the approach first proposed by Krizhevsky, Sutskever, and Hinton in their NIPS 2012 paper. <br>
The network definition <br>
( <strong><em>models/bvlc_reference_caffenet/train_val.prototxt</em></strong> ) follows the one in Krizhevsky et al.</p>
</blockquote>
<p>根据括号中给定的路径可以查到该train_val.prototxt文件，把它拷贝到一个txt文件中，后缀名改成prototxt即可。</p>
<p>现在我们来编辑该train_val.prototxt文件，就像在《C<a href="http://blog.csdn.net/u013534498/article/details/51340244" rel="nofollow">AFFE学习笔记（一）Caffe_Example之训练mnist</a>》中做的那样，设置imagenet_train_leveldb和imagenet_val_leveldb路径，除此之外还要把刚才计算好的平均值文件imagenet_mean.binaryproto的路径也一并设置。</p>
<p>千万注意默认的backend是LMDB，我们得改成LEVELDB才行。</p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148141076.png" alt="这里写图片描述" title=""></p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148144045.png" alt="这里写图片描述" title=""></p>
<h2 id="4-2-设置solverprototxt文件">4-2 设置solver.prototxt文件</h2>
<p>这个文件同样无法在CAFFE_ROOT\examples\imagenet中找到，和上面类似，在Caffe官网的Imagenet这个例子中得到solver的路径：</p>
<blockquote>
<p>Sound good? This is implemented in <br>
<strong><em>models/bvlc_reference_caffenet/solver.prototxt.</em></strong></p>
</blockquote>
<p>现在设置solver如下：</p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148146389.png" alt="这里写图片描述" title=""></p>
<p>其中net是train_val.prototxt的路径，snapshot_prefix是训练好的网络权值的存放路径，还有就是用CPU还是GPU也在此处指定。</p>
<h2 id="4-3-设置traincaffenetsh文件">4-3 设置train_caffenet.sh文件</h2>
<p>这个文件倒是确实能在CAFFE_ROOT/examples/imagenet中找到，把它拷贝到myself中，设置如下：</p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148148107.png" alt="这里写图片描述" title=""></p>
<p>其实就是设置三个东西：</p>
<p>（1）Caffe.exe——也就是用于训练网络的可执行文件，它是tools下caffe.cpp文件build而成的。</p>
<p>（2）train——模式选择，意思是现在是训练模式。</p>
<p>（3）solver——即刚才设置好的solver.prototxt文件的路径。</p>
<p>这一部分内容与《CAFFE学习笔记（一）Caffe_Example之训练mnist》中的设置是完全一样的。</p>
<h1 id="5-训练网络">5 训练网络</h1>
<p>在设置完train_caffenet.sh后，就开始训练网络了，速度奇慢……基本上是每个小时出给一次当前loss汇报。</p>
<p>不过可以看出，随着迭代次数增加，loss越来越小（其实可以看出来迭代20次后就能用了），而这正是我们希望的。</p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148154826.png" alt="这里写图片描述" title=""></p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148156389.png" alt="这里写图片描述" title=""></p>
<p><img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201605262148162326.png" alt="这里写图片描述" title=""></p>
<p>2016.5.26</p>
<p>by 悠望南山</p>
<script type="text/javascript">
            $(function () {
                $('pre.prettyprint code').each(function () {
                    var lines = $(this).text().split('\n').length;
                    var $numbering = $('<ul/>').addClass('pre-numbering').hide();
                    $(this).addClass('has-numbering').parent().append($numbering);
                    for (i = 1; i <= lines; i++) {
                        $numbering.append($('<li/>').text(i));
                    };
                    $numbering.fadeIn(1700);
                });
            });
        </script>
<div class="line5">
</div>
<div id="weixinCode">
<div class="line30">
</div>
<img alt="爱编程-编程爱好者经验分享平台" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201603282312454295.jpg">
<div class="line20">
</div>
</div>
<div class="adverse hidden-md hidden-sm hidden-xs">
<div class="line30">
</div>
<ins class="adsbygoogle" style="display: inline-block; width: 728px; height: 90px" data-ad-client="ca-pub-4168987395515775" data-ad-slot="3430838677" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><ins id="aswift_1_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><iframe width="728" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;width:728px;height:90px;" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/saved_resource(1).html"></iframe></ins></ins></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
<div class="adverse hidden-sm hidden-xs hidden-lg">
<div class="line30">
</div>
<div style="width: 640px; margin: auto; overflow: hidden">
<script type="text/javascript">
        /*640*60 创建于 2014-08-22*/
        var cpro_id = "u1672862";
    </script>
<script src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/c.js.下载" type="text/javascript"></script><div id="BAIDU_SSP__wrapper_u1672862_0"><iframe id="iframeu1672862_0" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/ncem(1).html" width="640" height="60" align="center,center" vspace="0" hspace="0" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" style="border:0;vertical-align:bottom;margin:0;width:640px;height:60px" allowtransparency="true"></iframe></div>
</div>
</div>
<div class="adverse hidden-md hidden-sm hidden-lg">
<div class="line10">
</div>
<div>
<script async="" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/adsbygoogle.js.下载"></script>
<ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 250px;" data-ad-client="ca-pub-4168987395515775" data-ad-slot="6223611879" data-adsbygoogle-status="done"><ins id="aswift_2_expand" style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><ins id="aswift_2_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><iframe width="300" height="250" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;width:300px;height:250px;" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/saved_resource(2).html"></iframe></ins></ins></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
</div>
</div>
<div class="relateArticle">
<div class="wumiRecommand">
<div class="wumii-hook"><div class="wumii-related-items-div" wmode="1" style="margin: 0; border: none; padding: 0; clear: both; overflow: hidden; *zoom: 1; *position: relative;">
    
    
    
        <div class="wumii-internal" style="padding: 0; margin: 0; border: none; clear: both; display: block;">
        <div class="wumii-widget-title" style="margin: 0px 0px 10px; border-top: none; border-right: none; border-bottom: 3px solid rgb(228, 228, 228); border-left: none; border-image: initial; padding: 0px; text-indent: 0px; text-align: left; font-weight: normal; font-size: 16px; line-height: 40px; height: 40px;"><span style="border-bottom: solid 3px #48A2BD;padding-left:5px;height: 40px;display: inline-block;">相关阅读：</span></div>
                <ul class="wumii-text-ul" style="padding: 0; margin: 0 0 0 1px;" fromurl="http%3A%2F%2Fwww.w2bc.com%2Farticle%2F143751"><li class="wumii-text-li" style="list-style: disc inside none; display: list-item; line-height: 30px; background: none 0px 0px repeat scroll transparent; padding: 0px; margin: 0px 20px 0px 0px; text-indent: 0px; text-align: left; font-size: 14px; width: 325px; float: left; height: 30px; overflow: hidden; color: rgb(72, 162, 189);">
    <a class="wumii-text-a" hidefocus="true" onmouseout="this.style.textDecoration=&#39;none&#39;" onmouseover="this.style.textDecoration=&#39;underline&#39;" href="http://www.w2bc.com/article/241514" style="text-decoration: none; border-bottom: none; outline: none; color: #333333;" redirecturl=""><span>深度学习Caffe实战笔记（19）Windows平台 Faster-RCNN 制作自己的数据集</span></a>
</li><li class="wumii-text-li" style="list-style: disc inside none; display: list-item; line-height: 30px; background: none 0px 0px repeat scroll transparent; padding: 0px; margin: 0px 20px 0px 0px; text-indent: 0px; text-align: left; font-size: 14px; width: 325px; float: left; height: 30px; overflow: hidden; color: rgb(72, 162, 189);">
    <a class="wumii-text-a" hidefocus="true" onmouseout="this.style.textDecoration=&#39;none&#39;" onmouseover="this.style.textDecoration=&#39;underline&#39;" href="http://www.w2bc.com/article/139581" style="text-decoration: none; border-bottom: none; outline: none; color: #333333;" redirecturl=""><span>caffe学习（1）------配置</span></a>
</li><li class="wumii-text-li" style="list-style: disc inside none; display: list-item; line-height: 30px; background: none 0px 0px repeat scroll transparent; padding: 0px; margin: 0px 20px 0px 0px; text-indent: 0px; text-align: left; font-size: 14px; width: 325px; float: left; height: 30px; overflow: hidden; color: rgb(72, 162, 189);">
    <a class="wumii-text-a" hidefocus="true" onmouseout="this.style.textDecoration=&#39;none&#39;" onmouseover="this.style.textDecoration=&#39;underline&#39;" href="http://www.w2bc.com/article/131102" style="text-decoration: none; border-bottom: none; outline: none; color: #333333;" redirecturl=""><span>Caffe学习1-图像识别与数据可视化</span></a>
</li><li class="wumii-text-li" style="list-style: disc inside none; display: list-item; line-height: 30px; background: none 0px 0px repeat scroll transparent; padding: 0px; margin: 0px 20px 0px 0px; text-indent: 0px; text-align: left; font-size: 14px; width: 325px; float: left; height: 30px; overflow: hidden; color: rgb(72, 162, 189);">
    <a class="wumii-text-a" hidefocus="true" onmouseout="this.style.textDecoration=&#39;none&#39;" onmouseover="this.style.textDecoration=&#39;underline&#39;" href="http://www.w2bc.com/article/131105" style="text-decoration: none; border-bottom: none; outline: none; color: #333333;" redirecturl=""><span>Caffe学习笔记（一）——Windows 下caffe安装与配置</span></a>
</li><li class="wumii-text-li" style="list-style: disc inside none; display: list-item; line-height: 30px; background: none 0px 0px repeat scroll transparent; padding: 0px; margin: 0px 20px 0px 0px; text-indent: 0px; text-align: left; font-size: 14px; width: 325px; float: left; height: 30px; overflow: hidden; color: rgb(72, 162, 189);">
    <a class="wumii-text-a" hidefocus="true" onmouseout="this.style.textDecoration=&#39;none&#39;" onmouseover="this.style.textDecoration=&#39;underline&#39;" href="http://www.w2bc.com/article/137424" style="text-decoration: none; border-bottom: none; outline: none; color: #333333;" redirecturl=""><span>Caffe学习笔记2--Ubuntu 14.04 64bit 安装Caffe（GPU版本）</span></a>
</li><li class="wumii-text-li" style="list-style: disc inside none; display: list-item; line-height: 30px; background: none 0px 0px repeat scroll transparent; padding: 0px; margin: 0px 20px 0px 0px; text-indent: 0px; text-align: left; font-size: 14px; width: 325px; float: left; height: 30px; overflow: hidden; color: rgb(72, 162, 189);">
    <a class="wumii-text-a" hidefocus="true" onmouseout="this.style.textDecoration=&#39;none&#39;" onmouseover="this.style.textDecoration=&#39;underline&#39;" href="http://www.w2bc.com/article/241942" style="text-decoration: none; border-bottom: none; outline: none; color: #333333;" redirecturl=""><span>Caffe - 基于Intel优化的Caffe框架训练和部署深度学习网络</span></a>
</li></ul>
    </div>
</div></div><script type="text/javascript" id="wumiiRelatedItems"></script>
</div>
<script type="text/javascript">
    var wumiiPermaLink = 'http://www.w2bc.com/article/143751'; //请用代码生成文章永久的链接
    var wumiiTitle = 'CAFFE学习笔记（五）用caffe跑自己的jpg数据'; //请用代码生成文章标题
    var wumiiTags = ''; //请用代码生成文章标签，以英文逗号分隔，如："标签1,标签2"
    var wumiiSitePrefix = "http://www.w2bc.com/";
    var wumiiParams = "&num=10&mode=3&pf=JAVASCRIPT";
</script>
<script type="text/javascript" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/relatedItemsWidget"></script>
<div class="clear">
</div>
<script type="text/javascript">
    $(function () {
        setTimeout(function () {
            $(".wumii-footer").remove();
            $(".wumii-widget-title").css({
                "font-size": "16px", "padding": "0", "font-weight": "normal",
                "line-height": "40px", "height": "40px", "border-bottom": "solid 3px #E4E4E4","margin-bottom":"10px"
            });
            var text = $(".wumii-widget-title").html();
            var newText = "<span style=\"border-bottom: solid 3px #48A2BD;padding-left:5px;height: 40px;display: inline-block;\">" + text + "</span>"
            $(".wumii-widget-title").html(newText);

            $(".wumii-text-li").css({ "font-size": "14px", "width": "325px", "margin-right": "20px", "float": "left", "height": "30px", "line-height": "30px", "overflow": "hidden", "list-style": "disc none inside", "display": "list-item", "list-style-position": "inside", "color": "#48A2BD" })
        }, 2000);
    })
</script>
</div>
<div class="line30"></div>
<div class="comment">
<h2>
<span>文章评论</span>
</h2>
<div class="line25"></div>
<div class="huifu_mes">
<label></label>&nbsp;&nbsp;
<a onclick="CloseHui(this)" class="glyphicon glyphicon-remove" href="javascript:"></a>
</div>
<div class="comment_add" id="143751">
<textarea onfocus="location.href=&#39;http://passport.w2bc.com/user/login?appkey=450b14728ad4502aecba32e22fa4f6ac&amp;backurl=http://www.w2bc.com/article/143751&#39;" id="txtContent" name="txtContent" style="width:100%" rows="3"></textarea>
<input type="button" onclick="location.href=&#39;http://passport.w2bc.com/user/login?appkey=450b14728ad4502aecba32e22fa4f6ac&amp;backurl=http://www.w2bc.com/article/143751&#39;" class="btn btn-danger" value="提交评论">
</div>
<div class="comment_list">
<div class="clear"></div>
</div>
</div>
</div>
<div class="col-md-3 hidden-sm hidden-xs sidebar" style="height: 16902px;">
<div class="line20">
</div>
<div class="search box">
<script type="text/javascript">(function () { document.write(unescape('%3Cdiv id="bdcs"%3E%3C/div%3E')); var bdcs = document.createElement('script'); bdcs.type = 'text/javascript'; bdcs.async = true; bdcs.src = 'http://znsv.baidu.com/customer_search/api/js?sid=10704470938740108515' + '&plate_url=' + encodeURIComponent(window.location.href) + '&t=' + Math.ceil(new Date() / 3600000); var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(bdcs, s); })();</script><div id="bdcs"><div class="bdcs-container"><meta http-equiv="x-ua-compatible" content="IE=9">   <!-- 嵌入式 -->  <div class="bdcs-main bdcs-clearfix" id="default-searchbox">      <div class="bdcs-search bdcs-clearfix" id="bdcs-search-inline">          <form action="http://so.w2bc.com/cse/search" method="get" target="_blank" class="bdcs-search-form" autocomplete="off" id="bdcs-search-form">              <input type="hidden" name="s" value="10704470938740108515">              <input type="hidden" name="entry" value="1">                                                                        <input type="text" name="q" class="bdcs-search-form-input" id="bdcs-search-form-input" placeholder="请输入关键词" autocomplete="off" style="height: 30px; line-height: 30px;">              <input type="submit" class="bdcs-search-form-submit " id="bdcs-search-form-submit" value="搜索">                       </form>      </div>                <div class="bdcs-search-sug" id="bdcs-search-sug" style="top: 52px; width: 239px;">              <ul class="bdcs-search-sug-list" id="bdcs-search-sug-list"></ul>          </div>                     <div class="bdcs-hot" id="bdcs-hot">               </div>       </div>                           </div></div>
</div>
<div class="line20">
</div>
<div class="box rightTag">
<h2>
标签云
</h2>
<div class="line20">
</div>
<a title="css3" target="_blank" href="http://www.w2bc.com/tag/css3">css3</a>
<a title="动画特效" target="_blank" href="http://www.w2bc.com/tag/%E5%8A%A8%E7%94%BB%E7%89%B9%E6%95%88">动画特效</a>
<a title="css3菜单" target="_blank" href="http://www.w2bc.com/tag/css3%E8%8F%9C%E5%8D%95">css3菜单</a>
<a title="html5" target="_blank" href="http://www.w2bc.com/tag/html5">html5</a>
<a title="进度条" target="_blank" href="http://www.w2bc.com/tag/%E8%BF%9B%E5%BA%A6%E6%9D%A1">进度条</a>
<a title="幻灯片" target="_blank" href="http://www.w2bc.com/tag/%E5%B9%BB%E7%81%AF%E7%89%87">幻灯片</a>
<a title="jquery幻灯片" target="_blank" href="http://www.w2bc.com/tag/jquery%E5%B9%BB%E7%81%AF%E7%89%87">jquery幻灯片</a>
<div class="line10">
</div>
</div>
<div class="line20">
</div>
<div class="adverse hidden-md hidden-sm hidden-xs">
<script async="" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/adsbygoogle.js.下载"></script>
<ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 250px;" data-ad-client="ca-pub-4168987395515775" data-ad-slot="6223611879" data-adsbygoogle-status="done"><ins id="aswift_3_expand" style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><ins id="aswift_3_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><iframe width="300" height="250" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_3" name="aswift_3" style="left:0;position:absolute;top:0;width:300px;height:250px;" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/saved_resource(3).html"></iframe></ins></ins></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<div class="line20">
</div>
</div>
<div class="box">
<h2>
<a class="more" target="_blank" href="http://www.w2bc.com/shili">更多</a> 实例
</h2>
<ul>
<li class="shili_red">
<dl>
<dt>
<a title="Canvas鼠标经过星星连成线特效" target="_blank" href="http://www.w2bc.com/article/238508">
<img alt="Canvas鼠标经过星星连成线特效" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201705111702408209.jpg">
</a>
</dt>
<dd>
<a title="Canvas鼠标经过星星连成线特效" target="_blank" href="http://www.w2bc.com/article/238508">Canvas鼠标经过星星连成线特效</a>
</dd>
</dl>
</li>
<li class="shili_red">
<dl>
<dt>
<a title="HTML5 canvas梦幻圆形泡泡动画背景特效" target="_blank" href="http://www.w2bc.com/article/238492">
<img alt="HTML5 canvas梦幻圆形泡泡动画背景特效" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201705111602498796.jpg">
</a>
</dt>
<dd>
<a title="HTML5 canvas梦幻圆形泡泡动画背景特效" target="_blank" href="http://www.w2bc.com/article/238492">HTML5 canvas梦幻圆形泡泡动画背景特效</a>
</dd>
</dl>
</li>
<li class="shili_red">
<dl>
<dt>
<a title="audio.js制作音乐播放器特效" target="_blank" href="http://www.w2bc.com/article/238410">
<img alt="audio.js制作音乐播放器特效" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201705111002403144.jpg">
</a>
</dt>
<dd>
<a title="audio.js制作音乐播放器特效" target="_blank" href="http://www.w2bc.com/article/238410">audio.js制作音乐播放器特效</a>
</dd>
</dl>
</li>
<li class="shili_red">
<dl>
<dt>
<a title="30种jQuery悬停按钮动画特效" target="_blank" href="http://www.w2bc.com/article/238300">
<img alt="30种jQuery悬停按钮动画特效" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201705102302400418.jpg">
</a>
</dt>
<dd>
<a title="30种jQuery悬停按钮动画特效" target="_blank" href="http://www.w2bc.com/article/238300">30种jQuery悬停按钮动画特效</a>
</dd>
</dl>
</li>
<li class="shili_red">
<dl>
<dt>
<a title="跨浏览器控制图片旋转jquery插件" target="_blank" href="http://www.w2bc.com/article/238241">
<img alt="跨浏览器控制图片旋转jquery插件" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201705101802576534.jpg">
</a>
</dt>
<dd>
<a title="跨浏览器控制图片旋转jquery插件" target="_blank" href="http://www.w2bc.com/article/238241">跨浏览器控制图片旋转jquery插件</a>
</dd>
</dl>
</li>
<li class="shili_red">
<dl>
<dt>
<a title="jQuery手机购物车商品结算代码" target="_blank" href="http://www.w2bc.com/article/238199">
<img alt="jQuery手机购物车商品结算代码" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/201705101502398197.jpg">
</a>
</dt>
<dd>
<a title="jQuery手机购物车商品结算代码" target="_blank" href="http://www.w2bc.com/article/238199">jQuery手机购物车商品结算代码</a>
</dd>
</dl>
</li>
</ul>
</div>
<div class="line40">
</div>
<div class="box" id="contentTab">
<h2>
<a class="more" target="_blank" href="http://www.w2bc.com/home/latest">更多</a>
<ul id="myTab" class="nav nav-tabs">
<li class="active">
<a href="http://www.w2bc.com/article/143751#latest" data-toggle="tab">
最新文章
</a>
</li>
<li><a href="http://www.w2bc.com/article/143751#hot" data-toggle="tab">热门推荐</a></li>
</ul>
</h2>
<div id="myTabContent" class="tab-content">
<ul class="tab-pane fade in active" id="latest">
<li><a title="【Java】大文本字符串滤重的简单方案~" href="http://www.w2bc.com/article/238989">【Java】大文本字符串滤重的简单方案~</a></li>
<li><a title="JavaScript控制样式" href="http://www.w2bc.com/article/238988">JavaScript控制样式</a></li>
<li><a title="Gson 用户指南" href="http://www.w2bc.com/article/238987">Gson 用户指南</a></li>
<li><a title="js继承与闭包（笔记）" href="http://www.w2bc.com/article/238986">js继承与闭包（笔记）</a></li>
<li><a title="Gerrit-2.13.7 安装配置" href="http://www.w2bc.com/article/238985">Gerrit-2.13.7 安装配置</a></li>
<li><a title="Hadoop 集群模式调整配置最小块设置与web访问" href="http://www.w2bc.com/article/238984">Hadoop 集群模式调整配置最小块设置与web访问</a></li>
<li><a title="bootstrapValidator基本页面与模态框校验" href="http://www.w2bc.com/article/238983">bootstrapValidator基本页面与模态框校验</a></li>
<li><a title="Python变量" href="http://www.w2bc.com/article/238982">Python变量</a></li>
<li><a title="@ConfigurationProperties 注解" href="http://www.w2bc.com/article/238981">@ConfigurationProperties 注解</a></li>
<li><a title="Elasticsearch - 快速入门" href="http://www.w2bc.com/article/238980">Elasticsearch - 快速入门</a></li>
</ul>
<ul class="tab-pane fade" id="hot">
<li><a title="OSChina 周二乱弹 ——有一天你当了程序员巴巴" href="http://www.w2bc.com/article/237852">OSChina 周二乱弹 ——有一天你当了程序员巴巴</a></li>
<li><a title="Struts2框架的基本使用（三）" href="http://www.w2bc.com/article/236127">Struts2框架的基本使用（三）</a></li>
<li><a title="Use OAuth2.0 for login" href="http://www.w2bc.com/article/236092">Use OAuth2.0 for login</a></li>
<li><a title="jQuery点击选择小时分钟代码" href="http://www.w2bc.com/article/236097">jQuery点击选择小时分钟代码</a></li>
<li><a title="巧用Netstat排除网络故障" href="http://www.w2bc.com/article/236008">巧用Netstat排除网络故障</a></li>
<li><a title="CSS3鼠标经过开花动画特效" href="http://www.w2bc.com/article/236789">CSS3鼠标经过开花动画特效</a></li>
<li><a title="JSTL与EL" href="http://www.w2bc.com/article/236073">JSTL与EL</a></li>
<li><a title="唐福林《新浪微博开放平台中的Redis实践》演讲视频" href="http://www.w2bc.com/article/236093">唐福林《新浪微博开放平台中的Redis实践》演讲视频</a></li>
<li><a title="jQuery右侧悬浮固定客服代码" href="http://www.w2bc.com/article/237319">jQuery右侧悬浮固定客服代码</a></li>
<li><a title="第八周工作报告" href="http://www.w2bc.com/article/236133">第八周工作报告</a></li>
</ul>
</div>
</div>
<div class="line40">
</div>
<div id="adf" class="adverse hidden-md hidden-sm hidden-xs" style="top: 60px; position: fixed;">
<script type="text/javascript">
    /*300*250 创建于 2014-11-08*/
    var cpro_id = "u1797675";
</script>
<script src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/c.js.下载" type="text/javascript"></script><div id="BAIDU_SSP__wrapper_u1797675_0"><iframe id="iframeu1797675_0" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/ncem(2).html" width="300" height="250" align="center,center" vspace="0" hspace="0" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" style="border:0;vertical-align:bottom;margin:0;width:300px;height:250px" allowtransparency="true"></iframe></div>
</div>
<script type="text/javascript">
    $(function () {
        var adfT = $("#adf").position().top + 180;
        $(window).scroll(function () {
            if ($(window).scrollTop() > adfT) {
                $("#adf").css({ "position": "fixed", "top": "60px" })
            } else {
                $("#adf").css({ "position": "" });
            }
        });

    })
</script>
</div>
</div>
<hr>
<div class="bottom">
<div class="line20"></div>
<div class="hidden-sm hidden-xs">
<div class="bottom-con">
<dl class="col-md-3">
<dt> 实例下载</dt>
<dd> <a title="幻灯片" href="http://www.w2bc.com/shili/%E5%B9%BB%E7%81%AF%E7%89%87">幻灯片</a> </dd>
<dd> <a title="相册" href="http://www.w2bc.com/shili/%E7%9B%B8%E5%86%8C">相册</a> </dd>
<dd> <a title="鼠标悬停" href="http://www.w2bc.com/shili/%E6%82%AC%E5%81%9C">悬停</a> </dd>
<dd> <a title="导航菜单" href="http://www.w2bc.com/shili/%E5%AF%BC%E8%88%AA%E8%8F%9C%E5%8D%95">导航菜单</a> </dd>
<dd> <a title="html5游戏" href="http://www.w2bc.com/shili/html5%E6%B8%B8%E6%88%8F">html5游戏</a> </dd>
</dl>
<dl class="col-md-3">
<dt>教程</dt>
<dd> <a title="html5教程" href="http://www.w2bc.com/html5">html5教程</a> </dd>
<dd> <a title="css3教程" href="http://www.w2bc.com/css3">css3教程</a> </dd>
<dd> <a title="bootstrap3教程" href="http://www.w2bc.com/bootstrap">bootstrap3教程</a> </dd>
<dd> <a title="asp.net core教程" href="http://www.w2bc.com/aspnetcore">asp.net core教程</a> </dd>
</dl>
<dl class="col-md-3">
<dt>工具</dt>
<dd> <a target="_blank" title="css3样式生成" href="http://www.w2bc.com/manual/css3%20generator/index.html">css3样式生成</a> </dd>
<dd> <a title="微信排版工具" href="http://www.w2bc.com/manual/weixincontentedit/index.html">微信排版工具</a> </dd>
<dd> <a title="layoutit" href="http://www.layoutit.cn/">布局神器</a> </dd>
</dl>
<dl class="col-md-3">
<dt>关注微信</dt>
<dd> <img alt="" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/weixin.jpg"> </dd>
</dl>
</div>
</div>
<div class="line30 hidden-sm hidden-xs"></div>
版权所有 爱编程 © Copyright 2012. w2bc.com. All Rights Reserved.<br>
闽ICP备12017094号-3
</div>
</div>
<div class="tools_right hidden-xs">
<ul>
<li><a rel="nofollow" class="icon iconfont" target="_blank" href="http://weibo.com/u/3933853639"></a> </li>
<li><a rel="nofollow" id="weixin" class="icon iconfont" href="javascript:"></a> </li>
<li class="backTop" style="visibility: visible;"><a rel="nofollow" class="icon iconfont" href="javascript:"></a> </li>
</ul>
<p class="weixin">
<span>
微信扫一扫关注爱编程，每天为您推送一篇经典技术文章。
</span>
<img src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/weixin.jpg">
</p>
</div>
<script src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/shCore(1)"></script>
<script type="text/javascript">SyntaxHighlighter.all();</script>
<script type="text/javascript">
        var cpro_id = "u1916384";
    </script>
<script src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/i.js.下载" type="text/javascript"></script>
<script async="" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/adsbygoogle.js.下载"></script>
<div style="display: none">
<script>
                var _hmt = _hmt || [];
                (function () {
                    var hm = document.createElement("script");
                    hm.src = "//hm.baidu.com/hm.js?da805d06f22ad936dc01c183988e5ef4";
                    var s = document.getElementsByTagName("script")[0];
                    s.parentNode.insertBefore(hm, s);
                })();
            </script>
</div>
<script>
        (function () {
            var src = (document.location.protocol == "http:") ? "http://js.passport.qihucdn.com/11.0.1.js?5421fffc9dd63cf4f92e5eaf4d8fad64" : "https://jspassport.ssl.qhimg.com/11.0.1.js?5421fffc9dd63cf4f92e5eaf4d8fad64";
            document.write('<script src="' + src + '" id="sozz"><\/script>');
        })();
    </script><script src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/11.0.1.js.下载" id="sozz"></script><script charset="utf-8" src="./CAFFE学习笔记（五）用caffe跑自己的jpg数据-爱编程_files/ab77b6ea7f3fbf79.js.下载"></script>
<script type="text/javascript">
        IsLogin();
    </script>


</body></html>