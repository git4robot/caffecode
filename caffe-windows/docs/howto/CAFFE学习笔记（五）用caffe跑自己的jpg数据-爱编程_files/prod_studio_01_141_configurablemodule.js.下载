self.studioLoader.context.evalInContext("var gi=function(a){I.call(this,a)};y(gi,I);m(\"studio.sdk.configurable.ConfigurableEvent\",gi,void 0);gi.REGISTER=\"register\";var hi=\"FLASH_LAYOUTS FLASH_CONFIGURABLE_XML FLASH_CONFIGURABLE_JSON HTML5_LAYOUTS HTML5_CONFIGURABLE HTML5_CONFIGURABLE_DAB\".split(\" \");var ii=function(){};ii.prototype.a=function(a){a=!ra(Da(pf(a)));var b;b=!ra(Da(\"HTML5_CONFIGURABLE\"))&&0<=Ja(hi,\"HTML5_CONFIGURABLE\")?\"HTML5_CONFIGURABLE\":null;return a&&(null===b||\"HTML5_CONFIGURABLE\"==b||\"HTML5_CONFIGURABLE_DAB\"==b||\"HTML5_LAYOUTS\"==b||\"FLASH_CONFIGURABLE_JSON\"==b)};ii.prototype.c=function(a){a=pf(a);if(ra(Da(a)))return null;a=N(a);var b;a.Profile&&a.Profile[0]?b=Ka(a.Profile,this.b,this)[0]:b={};B(Va(a,function(a,b){return\"_profileid\"!=b&&\"Profile\"!=b}),function(a,d){b[d+\"Array\"]=Ka(a,this.b,this)},this);return ji(pf(b))};ii.prototype.b=function(a){return Wa(Va(a,function(a,c){return\"_index\"!=c}),function(a){if(v(a)){var b;b:{for(b in a)if(!q.call(void 0,a[b])){b=!1;break b}b=!0}if(b&&1==Ya(a)){var d;b:{for(d in a)break b;d=void 0}a=Ka(a[d],Bb(x(hb,d)))}}return a},this)};var ki=function(a,b){this.b=Sa(a);this.c=!b;this.a=[]},li=function(a,b){a.a=[];for(var c=0;c<a.b.length;++c){var d=a.b[c];a.a[c]=!1;if(d.a(b,void 0)&&(d=d.c(b,void 0),null!==d&&(b=d,a.a[c]=!0,!a.c)))break}return b};var mi=function(){};mi.prototype.a=n;mi.prototype.c=function(a){var b=this.b(a);return ni(this,a,b)};mi.prototype.b=n;var ni=function(a,b,c){var d=Va(b,function(a,b){return!v(a)&&!bb(c,b)});B(c,w(function(a,b){if(\"Google_Merchant_Center\"!=b){var c=b.split(\"_\");if(3>c.length)db(d,b,a);else try{oi(this,c,0,d,a)}catch(p){db(d,b,a)}}},a));\"Google_Merchant_Center\"in b&&(d.Product=pi(b.Google_Merchant_Center));\"Retail\"in b&&(d.Product=qi(b.Retail));return d},oi=function(a,b,c,d,e){if(c+1<b.length){var f=b[c],l=b[c+1];isNaN(parseInt(l,10))?(db(d,f,{}),oi(a,b,c+1,d[f],e)):(db(d,f,[]),c+2<b.length?(db(d[f],l,{}),oi(a,b,c+2,d[f][l],e)):db(d[f],l,l&&qa(l)&&v(e)&&\"Url\"in e?e.Url:e))}else c<b.length&&(f=b[c],db(d,f,f&&qa(f)&&v(e)&&\"Url\"in e?e.Url:e))},pi=function(a){return Ka(a,function(a){var b=ab(a,\"offer_image_derived\",\"image200\",\"url\"),d=ab(a,\"offer_landing_page_derived\",\"Url\"),e=ab(a,\"offer_regular_price\",\"formattedPrice\"),f=ab(a,\"offer_title\");a=ab(a,\"offer_description\");return{imageUrl:b,url:d,price:e,name:f,description:a}})},qi=function(a){return Ka(a,function(a){var b=ab(a,\"imageUrl\",\"Url\"),d=ab(a,\"url\",\"Url\"),e=ab(a,\"price\"),f=ab(a,\"name\");a=ab(a,\"description\");return{imageUrl:b,url:d,price:e,name:f,description:a}})};var ri=function(){};y(ri,mi);ca(ri);ri.prototype.a=function(a){a&&v(a)?(a=null!=a?a.layout:null,a=!(null==a||!r(a)||!a)):a=!1;return a};ri.prototype.b=function(a){a.Headline_0_productClickOnly=!0;return a};var si=function(){};y(si,mi);ca(si);si.prototype.a=function(a){if(!a||!v(a))return!1;a=ab(a,\"google_template_data\",\"adData\");return!!a&&1==a.length};si.prototype.b=function(a){return a.google_template_data.adData[0]};var ti=function(){this.a=null;this.b=!1};ca(ti);ti.prototype.ga=function(a){if(null!=this.a)a(this.a);else{var b=null,c=[],d=void 0;window.Enabler&&null!=window.Enabler.getParameter(\"AdData\")?(b=window.Enabler.getParameter(\"AdData\"),c.push(si.V())):window.Enabler&&null!=window.Enabler.Ma()?(b=window.Enabler.Ma(),d=c.length,c.push(ri.V()),c.push(new ii)):window.Enabler&&null!=window.Enabler.ga()?b=window.Enabler.ga():window.GdnLayout&&null!=window.GdnLayout.getConfig()&&(b=N(GdnLayout.getConfig()));null!=b&&(c=new ki(c,!0),this.a=li(c,b),t(d)&&(this.b=!!c.a[d]));a(this.a)}};ti.prototype.reset=function(){this.a=null};var ji=function(a){return mf(a)||{}};var ui=function(){this.c=this.a=this.b=null};ca(ui);ui.prototype.ga=function(a){if(null===this.c||null===this.b||null===this.a){var b=new ki([si.V()]);h.onAdData=w(function(c,d){if(null===this.c||null===this.b||null===this.a){var e=li(b,c);this.b=c;this.a=d;this.c=e;a(e,c,d)}},this)}else a(this.c,this.b,this.a)};ui.prototype.reset=function(){this.c=this.a=this.b=null};var vi=function(a){H.call(this);this.i=a};y(vi,H);vi.prototype.b=function(){n()};vi.prototype.g=function(){n()};vi.prototype.f=function(a){r(a)&&(a=N(a));v(a)&&\"functionName\"in a&&this.i(a.functionName,a.args)};var wi=function(a){vi.call(this,a);this.b()};y(wi,vi);wi.prototype.b=function(){window.Enabler.kb(\"livePreviewChannel\",w(this.f,this))};wi.prototype.g=function(a,b){Cg(window.Enabler,\"livePreviewMessage\",[{functionName:a,args:b}])};var xi=function(a,b){vi.call(this,a);this.h=b;this.c=this.a=null;this.b()};y(xi,vi);xi.prototype.b=function(){if(\"FILLER\"==this.h){var a=yi(),b=a.postMessage?a:a.document;b.postMessage?b.postMessage(\"PreviewHandler.INIT\",\"*\"):window.console.log(\"No postMessage on preview frame\",a);this.a=new fg({tp:1,role:1,cn:\"livePreviewChannel\",osh:!0});a=yi();this.a.S=a;this.c=new df(this.a);xd(this,this.a);xd(this,this.c);a=this.c;b=w(this.f,this);a.g.Aa(\"livePreviewService\",w(a.i,a,b),!0);this.a.connect(w(this.j,this))}};var yi=function(){var a=h.Enabler.getParameter(\"previewFrameId\")||\"layoutsPreviewFrame\";return window.top.frames[a]};xi.prototype.j=function(){zi(this,\"PreviewHandler.INIT\")};var zi=function(a,b){\"FILLER\"==a.h&&ef(a.c,\"livePreviewService\",b,ba)};xi.prototype.g=function(a,b){zi(this,[{functionName:a,args:b}])};var U=function(a){throw new Ai(a);},Ai=function(a){z.call(this,a)};y(Ai,z);Ai.prototype.name=\"ConfigurableException\";var Bi=new D,Ci=new D,Di=0,Ei=0,Fi=!1,Gi=/(?:(.*)\\.)?([^\\.\\[]+)(?:\\[(\\d+)\\])?/;m(\"studio.sdk.configurable.config.declare\",function(a,b){Bi.M(a)?U(\"Config type \"+(a+\" already exists\")):Bi.set(a,new Hi(a,b))},void 0);var Ii=function(a,b){return Bi.M(a)?Bi.get(a).create(b):(U(Rh(a)),null)};m(\"studio.sdk.configurable.config.instantiate\",Ii,void 0);var Ki=function(a){if(!Fi)return a;null!=a[\"@type\"]||(a[\"@type\"]=\"Root\");Ji(a);return Ii(a[\"@type\"],a)},Ji=function(a,b){B(a,function(a){v(a)&&Ji(a)});if(v(a)&&!q(a)){(b=a[\"@type\"]||b)||(b=\"\"+Ei++);a[\"@type\"]=b;try{Li(b);return}catch(c){}Bi.set(b,new Hi(b,a))}},Li=function(a){var b=Mi(a);return b||(b=Bi.get(a),b)?b:(U(Rh(a)),null)},Oi=function(a){return Ni(a,!0)?Ci.get(a[\"@id\"]):null},Qi=function(a){return v(a)?(a=Oi(a))?a.a:null:Pi(a)},Ri=function(a){a=Oi(a);return a?a.a.a:(U(\"Attempt to get config type for a non-object\"),null)};m(\"studio.sdk.configurable.config.getType\",Ri,void 0);m(\"studio.sdk.configurable.config.getPath\",function(a){a=Oi(a);return a?Si(a):(U(\"Attempt to get config type for a non-object\"),null)},void 0);var Ui=function(a,b){var c,d;if(!Ni(a))return null;(d=Gi.exec(b))?(b=parseInt(d[3],10),isNaN(b)&&(b=null),c=d[1]||\"\",d=d[2]||\"\"):(c=\"\",d=b,b=null);a=Ti(a,c);return Ni(a)?{ka:a,propertyName:d,index:b}:null},Vi=function(a,b,c,d){if(null==b)return null;var e;try{e=Li(a)}catch(f){if(!Fi)throw f;}if(!e&&Fi){Ji(b,a);e=Li(a);if(!e)return U(Rh(a)),null;c=Ui(c,d);d=Oi(c.ka);a=e;c=d.a.b.get(c.propertyName);c.Va(a)||c.F.add(a)}return e.create(b)},Wi=function(a){this.a=a};Wi.prototype.create=n;var Hi=function(a,b){this.a=a;this.b=new D;this.c=new Xi;Yi(this,b)};y(Hi,Wi);var Yi=function(a,b){b&&B(b,function(a,b){var c=Zi(this.c,b,a);v(a)&&(c=c||$i(this.c,a));c||0==b.lastIndexOf(\"@\",0)||this.b.set(b,new aj(this,b,a))},a)};Hi.prototype.create=function(a){var b=bj(this);A(this.b.K(),function(c){var d=this.b.get(c),e=void 0;a&&(e=a[c]);d=cj(d,e);b[c]=d;dj(b,c,d)},this);return b};var dj=function(a,b,c){a=a?Oi(a):null;if(ea(c))for(var d=0;d<c.length;d++){var e=d,f=Oi(c[d]);f&&ej(f,a,b,e)}else(c=Oi(c))&&ej(c,a,b,void 0)},fj=function(a,b){this.a=a;this.g=b};y(fj,Wi);fj.prototype.create=function(a){return k(a)?a:this.g};var gj=new fj(\"string\",\"\"),hj=new fj(\"number\",0),ij=new fj(\"boolean\",!0),jj=new fj(\"url\",null),kj=new fj(\"color\",\"#000000\"),lj=new fj(\"image\",null),mj=new fj(\"video\",null),nj=new fj(\"asset\",null),Mi=function(a){switch(a.toLowerCase()){case \"string\":case \"str\":return gj;case \"integer\":case \"int\":case \"float\":case \"number\":case \"double\":return hj;case \"boolean\":case \"bool\":return ij;case \"url\":return jj;case \"color\":return kj;case \"image\":return lj;case \"video\":return mj;case \"file\":case \"asset\":return nj}},Pi=function(a){switch(da(a)){case \"number\":return hj;case \"boolean\":return ij;case \"string\":return gj;default:return U(Sh(a)),gj}},aj=function(a,b,c){this.f=a;this.c=b;this.F=new Lb;this.g=this.b=!1;this.a=void 0;this.v=new Xi;switch(da(c)){case \"string\":case \"number\":case \"boolean\":this.b=!1;this.g=!0;this.a=c;this.F.add(Pi(this.a));break;case \"array\":oj(this,c);break;case \"object\":pj(this,c);break;case \"null\":if(Fi)break;default:U(Th(a.a,b))}},oj=function(a,b){0!=b.length||Fi?(a.b=!0,a.g=!0,a.a=b,A(b,function(a){var b;Fi&&v(a)?b=Bi.get(a[\"@type\"]):b=Pi(a);b&&this.F.add(b)},a)):U(\"Array property \"+(a.c+(\" on type \"+(a.f.a+\" must have at least one element.\"))))},pj=function(a,b){a.b=!!b[\"@array\"];a.g=!!b[\"@required\"];var c=b[\"@type\"];if(k(c))switch(da(c)){case \"string\":a.F.add(Li(c));break;case \"array\":A(c,function(a){(a=Li(a))&&this.F.add(a)},a);break;default:U(Th(a.f.a,a.c));return}else a.F.add(gj);a.a=void 0;b.hasOwnProperty(\"@value\")?(c=b[\"@value\"],k(c)?a.a=cj(a,c):a.a=void 0):0==a.F.a.c||a.b||(a.a=a.F.G()[0].create(void 0));qj(a.v,b)};aj.prototype.Va=function(a){return!!a&&this.F.contains(a)};aj.prototype.h=function(a){if(!v(a))return a;var b=null;Ni(a,!0)?b=Qi(a):a.hasOwnProperty(\"@type\")?(b=Bi.get(a[\"@type\"]),null==b&&Fi&&(Ji(a),b=Bi.get(a[\"@type\"]))):1==this.F.P()&&(b=this.F.G()[0]);Fi&&!this.Va(b)&&this.F.add(b);return this.Va(b)?b.create(a):(U(Uh(this.f.a,this.c)),null)};var cj=function(a,b){b=k(b)?b:a.a;var c=void 0;a.b?k(b)?(q(b)||(b=[b]),c=Ka(b,w(a.h,a))):c=[]:k(b)&&(c=a.h(b));return!k(c)&&a.g?(U(\"No value specified for non-optional property \"+(a.c+(\" on type \"+(a.f.a+\".\")))),null):c},bj=function(a){var b={};b[\"@id\"]=Di++;a=new rj(a,b);Ci.set(a.w(),a);return b},Ni=function(a,b){var c=v(a)&&\"@id\"in a;c&&(c=a[\"@id\"],c=Ci.M(c)&&Ci.get(c).D()==a);c||b||U(\"Attempt to get config type for a non-object\");return c},Ti=function(a,b){a=Oi(a);return a?sj(a,b):(U(\"Attempt to get config type for a non-object\"),null)},rj=function(a,b){this.f=b[\"@id\"];this.a=a;this.h=b;this.g=this.c=this.b=null};rj.prototype.w=function(){return this.f};var tj=function(a,b){return a.a instanceof Hi?a.a.b.get(b):null};rj.prototype.D=function(){return this.h};var Si=function(a){if(!a.b)return\"\";var b=Si(a.b);b&&(b+=\".\");b+=a.c;t(a.g)&&(b+=\"[\"+a.g+\"]\");return b},ej=function(a,b,c,d){(a.b=b)?(a.c=c,a.g=t(d)?d:null):(a.c=null,a.g=null)},sj=function(a,b){if(!b)return a.D();var c;if(b){var d=/^(\\w+)(?:\\[(\\d+)\\])?(?:\\.(.*))?$/.exec(b);d?c={xb:d[1],index:d[2]?parseInt(d[2],10):-1,yb:d[3]?d[3]:null}:(U(\"Invalid path \"+b),c=null)}else c=null;b=c.xb;d=c.index;c=c.yb;var e=a.a;if(!e.b.get(b))return U(\"Property \"+(b+(\" does not exist on type \"+(e.a+\".\")))),null;a=a.D()[b];if(0<=d){if(!ea(a))return U(Vh(e.a,b)),null;a=a[d]}if(c){a=Oi(a);if(!a)return U(\"Attempt to get config type for a non-object\"),null;a=sj(a,c)}return a},Xi=function(){this.a=new Lb},uj=function(a,b,c){q(c)?A(c,function(a){this.a.add(b+\"_\"+a)},a):r(c)&&a.a.add(b+\"_\"+c)},qj=function(a,b){b&&B(b,function(a,b){Zi(this,b,a);v(a)&&$i(this,a)},a)},$i=function(a,b){try{var c=!1,d=b[\"@type\"],e=b[\"@value\"],f=d&&ij==Li(String(d)),l=k(e)&&ij==Qi(e);(f||l)&&B(b,function(a,b){c=c||Zi(this,b,a)},a);return c}catch(p){return!1}},Zi=function(a,b,c){if(0!=b.lastIndexOf(\"@\",0))return!1;b=b.replace(\"@\",\"\");switch(b){case \"exit\":return uj(a,\"exit\",c),!0;case \"counter\":return uj(a,\"counter\",c),!0;case \"timer\":return uj(a,\"timer\",c),!0}return!1},vj=function(a,b){var c=a[b];return q(c)?c:(U(Vh(Ri(a),b)),null)};var xj=function(a){this.a=Oi(a);this.v=new wj;this.c=new D;this.b=new D;this.h=new D;this.g=new D;this.f=new D},yj=new D,zj=function(a){if(!Ni(a))return null;var b=a[\"@id\"];yj.M(b)||yj.set(b,new xj(a));return yj.get(b)},Aj=function(a,b,c){a=Ui(a,b);return!a||c&&!vj(a.ka,a.propertyName)?null:(c=zj(a.ka))?{controller:c,propertyName:a.propertyName,index:a.index}:null},V=function(a,b){var c=a.get(b);k(c)||(c=new wj,a.set(b,c));return c},Cj=function(a){A(a.c.K(),function(a){var b=this.a.D()[a];V(this.c,a).a(b)},a);A(a.b.K(),function(a){for(var b=this.a.D()[a],d=0;d<b.length;d++){var e=b[d],f=d,l=b;V(this.b,a).a(e,f,l)}},a);A(a.g.K(),function(a){var b=this.a.D()[a];V(this.g,a).a(b)},a);Bj(a)},Bj=function(a){a.v.a(a.a.D());(a=a.a.b)&&Bj(zj(a.D()))},wj=function(){this.b=[]};wj.prototype.add=function(a,b){var c=this.b;a={H:a,scope:b};0<=Ja(c,a)||c.push(a)};var Dj=function(a,b,c){var d=Na(a.b,function(a){return a.H==b&&a.scope==c});-1!=d&&Pa(a.b,d)};wj.prototype.a=function(a){var b=arguments;A(this.b,function(a){a.H.apply(a.scope,b)})};m(\"studio.sdk.configurable.binding.addValueChangeListener\",function(a,b,c){(a=zj(a))&&a.v.add(b,c)},void 0);m(\"studio.sdk.configurable.binding.removeValueChangeListener\",function(a,b,c){(a=zj(a))&&Dj(a.v,b,c)},void 0);var Ej=function(a,b,c,d){(a=Aj(a,b))&&V(a.controller.c,a.propertyName).add(c,d)};m(\"studio.sdk.configurable.binding.addPropertyChangeListener\",Ej,void 0);m(\"studio.sdk.configurable.binding.removePropertyChangeListener\",function(a,b,c,d){(a=Aj(a,b))&&Dj(V(a.controller.c,a.propertyName),c,d)},void 0);var Fj=function(a,b,c,d){(a=Aj(a,b,!0))&&V(a.controller.b,a.propertyName).add(c,d)};m(\"studio.sdk.configurable.binding.addArrayInsertListener\",Fj,void 0);m(\"studio.sdk.configurable.binding.removeArrayInsertListener\",function(a,b,c,d){(a=Aj(a,b,!0))&&Dj(V(a.controller.b,a.propertyName),c,d)},void 0);var Gj=function(a,b,c,d){(a=Aj(a,b,!0))&&V(a.controller.h,a.propertyName).add(c,d)};m(\"studio.sdk.configurable.binding.addArrayRemoveListener\",Gj,void 0);m(\"studio.sdk.configurable.binding.removeArrayRemoveListener\",function(a,b,c,d){(a=Aj(a,b,!0))&&Dj(V(a.controller.h,a.propertyName),c,d)},void 0);m(\"studio.sdk.configurable.binding.addValueAddedListener\",function(a,b,c,d){(a=Aj(a,b))&&V(a.controller.g,a.propertyName).add(c,d)},void 0);m(\"studio.sdk.configurable.binding.removeValueAddedListener\",function(a,b,c,d){(a=Aj(a,b))&&Dj(V(a.controller.g,a.propertyName),c,d)},void 0);m(\"studio.sdk.configurable.binding.addValueRemovedListener\",function(a,b,c,d){(a=Aj(a,b))&&V(a.controller.f,a.propertyName).add(c,d)},void 0);m(\"studio.sdk.configurable.binding.removeValueRemovedListener\",function(a,b,c,d){(a=Aj(a,b))&&Dj(V(a.controller.f,a.propertyName),c,d)},void 0);var Hj=function(a){var b=zj(a);if(b){Cj(b);for(var c in a)if(b=a[c],q(b))for(var d=0;d<b.length;d++)v(b[d])&&Hj(b[d]);else v(b)&&Hj(b)}};m(\"studio.sdk.configurable.binding.fireAllListeners\",Hj,void 0);var Ij=function(a,b,c){var d=Aj(a,b);if(d){a=d.controller;b=d.propertyName;var d=d.index,e=a.a.D(),f=e[b],l=tj(a.a,b);null==c||Qi(c)?(null!=d?(l=f,f=l[d],l[d]=c,c=l):e[b]=c,dj(null,b,f),dj(e,b,c),d=c,V(a.c,b).a(d),Bj(a)):U(Uh(a.a.a.a,l.c))}};m(\"studio.sdk.configurable.binding.update\",Ij,void 0);var Nj=function(a,b){if(Fi)a=Ki(b);else if(!a||!Ni(a))return a;if(!a)return a;var c=Oi(a);A(c.a instanceof Hi?c.a.b.K():null,function(d){var e=tj(c,d),f=a[d],l=b[d],p=null!=f?Qi(f):e.F.G()[0];if(e.b){if(q(f))for(;0<f.length;)Jj(a,d,0);q(l)?A(l,x(Kj,a,d)):null!=l&&Kj(a,d,l,0)}else p instanceof fj?Ij(a,d,l):p instanceof Hi&&(null!=l?Lj(a,d,l):null!=f&&Mj(a,d),null!=f&&null!=l&&Nj(f,l))});return a};m(\"studio.sdk.configurable.binding.updateAll\",Nj,void 0);var Kj=function(a,b,c,d){if(b=Aj(a,b,!0)){a=b.controller;b=b.propertyName;var e=d,f=a.a.D();if(d=vj(f,b)){c=tj(a.a,b).h(c);if(0>e||e>d.length)e=d.length;Ua(d,e,0,c);dj(f,b,d);V(a.b,b).a(c,e,d);Bj(a)}}};m(\"studio.sdk.configurable.binding.arrayInsert\",Kj,void 0);var Jj=function(a,b,c){if(b=Aj(a,b,!0)){a=b.controller;b=b.propertyName;var d=a.a.D(),e=vj(d,b);if(e)if(0>c||c>=e.length)a=Ri(d),U(\"Property \"+(b+(\" on type \"+(a+(\" has length \"+(e.length+(\", but invalid index \"+(c+\" was requested.\"))))))));else{var f=e[c];Pa(e,c);dj(null,b,f);dj(d,b,e);V(a.h,b).a(f,c,e);Bj(a)}}};m(\"studio.sdk.configurable.binding.arrayRemove\",Jj,void 0);var Lj=function(a,b,c){if(b=Aj(a,b)){a=b.controller;b=b.propertyName;var d=a.a.D(),e=d[b],f=tj(a.a,b);f?(c=f.h(c),d[b]=c,dj(null,b,e),dj(d,b,c),e&&V(a.f,b).a(e),V(a.g,b).a(c),Bj(a)):U(\"The optional property \"+(b+\" must be a reference\"))}};m(\"studio.sdk.configurable.binding.addValue\",Lj,void 0);var Mj=function(a,b){if(b=Aj(a,b)){a=b.controller;b=b.propertyName;var c=a.a.D();if(c[b]){var d=c[b];delete c[b];dj(null,b,d);dj(c,b,void 0);V(a.f,b).a(d);Bj(a)}}};m(\"studio.sdk.configurable.binding.removeValue\",Mj,void 0);var Oj=function(a,b,c,d){H.call(this);this.a=a;this.g=b;this.c=this.b=null;this.c=c?new wi(w(this.f,this)):new xi(w(this.f,this),d)};y(Oj,H);m(\"studio.sdk.configurable.PreviewHandler.CallbackMethods\",{ed:\"showNode\",cd:\"hideNode\",bd:\"changeValue\",dd:\"showMessage\"},void 0);var Pj=function(a,b){return a?a+\".\"+b:b};Oj.prototype.f=function(a,b){switch(a){case \"updateValue\":if(3>b.length)break;a=b[0];var c=N(b[1]);this.pa(a,c,b[2]);break;case \"addArrayItem\":if(4>b.length)break;a=b[0];var d=b[1],e=N(b[2]),c=b[3];a=Pj(a,d);c=Vi(c,e,this.a,a);Kj(this.a,a,c,-1);break;case \"removeArrayItem\":if(3>b.length)break;a=b[0];var d=b[1],f=parseInt(b[2],10);Jj(this.a,Pj(a,d),f);break;case \"updateArrayValue\":if(5>b.length)break;a=b[0];d=b[1];e=N(b[2]);c=b[3];f=parseInt(b[4],10);b=e;e=f;a=Pj(a,d);Jj(this.a,a,e);c=Vi(c,b,this.a,a);Kj(this.a,a,c,e);break;case \"addValue\":if(4>b.length)break;e=b[0];d=N(b[1]);a=b[2];c=b[3];a=Pj(a,e);c=Vi(c,d,this.a,a);Lj(this.a,a,c);break;case \"changeInputVariable\":if(2>b.length)break;e=b[0];Qj(this,e,b[1]);break;case \"removeValue\":2>b.length||(e=b[0],a=b[1],Mj(this.a,Pj(a,e)))}};Oj.prototype.pa=function(a,b){B(b,function(b,d){Ij(this.a,Pj(a,d),b)},this)};Oj.prototype.updateValue=Oj.prototype.pa;var Qj=function(a,b,c){switch(b){case \"assets\":a.g&&a.g(c);break;case \"setGdnAction\":b=c,r(b)&&(b=N(b)),v(b)&&a.b&&B(a.b(b),function(a,b){\"@\"!=b[0]&&(b=Pj(\"\",b),a=Vi(a[\"@type\"],a,this.a,b),Lj(this.a,b,a))},a)}},Sj=function(a,b){Rj.c.g(a,b)};m(\"studio.sdk.configurable.RUNTIME_MODE\",{FILLER:\"FILLER\",PLAY:\"PLAY\",TRAFFICK:\"TRAFFICK\",DEVELOPMENT:\"DEVELOPMENT\"},void 0);m(\"studio.sdk.configurable.FILLER_CONTEXT\",{CREATIVE:\"CREATIVE\",MANAGEMENT:\"MANAGEMENT\",NONE:\"NONE\"},void 0);var Tj=new J,Uj=new D,Rj=null,Vj=null,Wj=!1,Xj=null,Yj=new G,Zj=!1;m(\"studio.sdk.configurable.reset\",function(){Gb(Bi);Gb(Ci);Ei=Di=0;Fi=!1;Gb(yj);ui.V().reset();ti.V().reset();Vj=null;Gb(Uj);Rj=null;Wj=!1;Xj=null;Zj=!1},void 0);m(\"studio.sdk.configurable.getConfiguration\",function(a){Fi=!0;ak(null,a)},void 0);m(\"studio.sdk.configurable.register\",function(a,b){ak(a,b)},void 0);var ak=function(a,b){K(64)||h.Enabler?bk(x(ck,a,b)):dk(x(ek,a,b))};m(\"studio.sdk.configurable.addRegisterListener\",function(a){Tj.s(\"register\",a)},void 0);var bk=function(a){if(h.Enabler){var b=h.Enabler;b.isInitialized()?a():Rd(b,\"init\",a)}else ld(Yj,x(bk,a))},dk=function(a){var b=h.Lf;ui.V().ga(function(c,d,e){Zj||(Wj=Zj=!0,Xj=e,a(c),b&&u(b)&&b(d,e))})},ck=function(a,b){Zj||(Zj=!0,ti.V().ga(x(ek,a,b)))},ek=function(a,b,c){c&&(c=Nj(a,c),a||(a=c));a&&K(16)?Rj=new Oj(a,fk,!!h.Enabler.getParameter(\"useEnablerMessages\"),gk()):K(1)||(Vj=a);b&&b(a);Tj.dispatchEvent(new gi(\"register\"))};m(\"studio.sdk.configurable.exit\",function(a,b,c){(a=hk(a,b,\"exit\"))&&ti.V().b?(c=String,b=ti.V(),b.a?(a=a.split(\"_\"),a=ab(b.a,a[0],parseInt(a[1],10),a[2])):a=null,c=c(a),h.Enabler.La(\"Layout Exit\",c)):a&&h.Enabler?null!=c?h.Enabler.La(a,c):h.Enabler.exit(a):Wj&&(a&&0<a.length?Xj.exit(a):Xj.exit())},void 0);var hk=function(a,b,c){if((!b||0==b.length)&&(Wj||ti.V().b))return\"\";if(a=Ui(a,\"\")){var d=Oi(a.ka),e=a.propertyName,f=a.index;a=d;e&&(d=d.D()[e],t(f)&&(d=d[f]),(d=Oi(d))&&(a=d));d=!1;a.c&&(d=tj(a.b,a.c).v.a.contains(c+\"_\"+b));b=(d=d||a.a.c.a.contains(c+\"_\"+b))||Fi?Ea(Si(a),\"::\",b):\"\"}else b=\"\";if(!K(64)&&h.Enabler&&h.Enabler.getParameter(\"AdData\")||Wj||ti.V().b)b?(b=b.replace(\"[\",\"_\"),b=b.replace(\"]::\",\"_\"),b=b.replace(\".\",\"_\"),0==b.lastIndexOf(\"::\",0)&&(b=b.substring(2)),b=b.replace(\"::\",\"_\")):b=null;return b};m(\"studio.sdk.configurable.exitQueryString\",function(a,b,c){(a=hk(a,b,\"exit\"))&&h.Enabler&&h.Enabler.qb(a,c)},void 0);m(\"studio.sdk.configurable.counter\",function(a,b,c){(a=hk(a,b,\"counter\"))&&h.Enabler&&h.Enabler.Ja(a,c)},void 0);m(\"studio.sdk.configurable.startTimer\",function(a,b){(a=hk(a,b,\"timer\"))&&h.Enabler&&h.Enabler.startTimer(a)},void 0);m(\"studio.sdk.configurable.stopTimer\",function(a,b){(a=hk(a,b,\"timer\"))&&h.Enabler&&h.Enabler.stopTimer(a)},void 0);var fk=function(a){ch(h.Enabler,a)};m(\"studio.sdk.configurable.showFiller\",function(a){Rj&&Sj(\"showNode\",[a])},void 0);m(\"studio.sdk.configurable.hideFiller\",function(a){Rj&&Sj(\"hideNode\",[a])},void 0);m(\"studio.sdk.configurable.changeFillerValue\",function(a,b){Rj?(Sj(\"changeValue\",[a,b]),Rj.pa(a,b,!1)):Vj&&B(b,function(b,d){Ij(Vj,Pj(a,d),b)})},void 0);m(\"studio.sdk.configurable.setTranslationMethod\",function(a){Rj&&(Rj.b=a)},void 0);m(\"studio.sdk.configurable.showMessage\",function(a){Rj&&Sj(\"showMessage\",[a])},void 0);var gk=function(){if(!h.Enabler)return\"TRAFFICK\";switch(h.Enabler.getParameter(\"layoutsRuntime\")){case \"AUTHORING\":return\"FILLER\";case \"TESTING\":return\"PLAY\";default:return h.Enabler.isInitialized()?K(1)?\"TRAFFICK\":\"DEVELOPMENT\":\"TRAFFICK\"}};m(\"studio.sdk.configurable.getRuntimeMode\",gk,void 0);m(\"studio.sdk.configurable.getFillerContext\",function(){if(!h.Enabler)return\"NONE\";switch(h.Enabler.getParameter(\"fillerContext\")){case \"CREATIVE_FILLER\":return\"CREATIVE\";case \"MANAGEMENT_FILLER_PREVIEW\":return\"MANAGEMENT\";default:return\"NONE\"}},void 0);var ik=function(){Ce(\"enabler\",function(){Yj.a||Yj.H()})};qe.configurable=3;if(!K(64)||!h.Enabler){var jk=Eg().b;if(jk){var kk=jk.get(\"e\",null);kk&&me(parseInt(kk,10)||0)}if(K(64))ik();else if(!K(128)){var lk=ve();/html5/.test(lk)&&\"configurable\"==pe()&&rd(lk+\"addata.js\")}};");
