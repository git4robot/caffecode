(function(){var g,k=this,aa=function(a){a=a.split(".");for(var b=k,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b},l=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==
c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},m=function(a){return"array"==l(a)},ba=function(a){var b=l(a);return"array"==b||"object"==b&&"number"==typeof a.length},p=function(a){return"string"==typeof a},ca=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},da="closure_uid_"+(1E9*Math.random()>>>0),ea=0,fa=function(a,
b,c){return a.call.apply(a.bind,arguments)},ga=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},q=function(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fa:ga;return q.apply(null,arguments)},r=Date.now||function(){return+new Date},
t=function(a,b){a=a.split(".");var c=k;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&Object.prototype.hasOwnProperty.call(c,d)?c[d]:c[d]={}:c[d]=b},u=function(a,b){function c(){}c.prototype=b.prototype;a.D=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Qb=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var ia={HEADER_CTA_CLICKED:"Header CTA clicked",IMAGE_GALLERY_CTA_CLICKED:"Image gallery CTA clicked",LOGO_CLICKED:"Logo clicked",PRODUCT_GALLERY_PRODUCT_CLICKED:"Product gallery product clicked",SOCIAL_LINK_CLICKED:"Social link clicked"},ja={VIDEO_THUMB_INITIALIZED:"video_thumb_initialized",VIDEO_THUMB_INITIALIZED_1S:"video_thumb_initialized_1s",VIDEO_THUMB_INITIALIZED_3S:"video_thumb_initialized_3s",VIDEO_THUMB_INITIALIZED_5S:"video_thumb_initialized_5s",VIDEO_THUMB_INITIALIZED_10S:"video_thumb_initialized_10s",
VIDEO_THUMB_INITIALIZED_20S:"video_thumb_initialized_20s",AUTO_PREVIEW_STARTED_PLAYING:"autopreview_started_playing",AUTO_PREVIEW_PLAYING_2S:"autopreview_playing_2s",TETRIS_BECAME_ACTIVE:"tetris_became_active",TETRIS_BECAME_IDLE:"tetris_became_idle"},ka={GOOGLE_MAPS_API_FAILURE:"google_maps_api_failure",ENGAGEMENT_STATE_FAILURE:"engagement_state_failure",WEB_FONT_API_FAILURE:"web_font_api_failure",YOUTUBE_IFRAME_API_FAILURE:"youtube_iframe_api_failure",OSD_TIMED_OUT:"osd_timed_out"};var v=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,v);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};u(v,Error);v.prototype.name="CustomError";var la;var ma=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},na=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},va=function(a){if(!oa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(pa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(qa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(ra,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(sa,"&quot;"));-1!=a.indexOf("'")&&
(a=a.replace(ta,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(ua,"&#0;"));return a},pa=/&/g,qa=/</g,ra=/>/g,sa=/"/g,ta=/'/g,ua=/\x00/g,oa=/[\x00&<>"']/,wa=function(a,b){return a<b?-1:a>b?1:0},xa=function(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})},ya=function(a){var b=p(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var za=function(a,b){b.unshift(a);v.call(this,ma.apply(null,b));b.shift()};u(za,v);za.prototype.name="AssertionError";
var Aa=function(a,b,c,d){var e="Assertion failed";if(c)var e=e+(": "+c),f=d;else a&&(e+=": "+a,f=b);throw new za(""+e,f||[]);},w=function(a,b,c){a||Aa("",null,b,Array.prototype.slice.call(arguments,2))},Ba=function(a,b){throw new za("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));},Ca=function(a,b,c){p(a)||Aa("Expected string but got %s: %s.",[l(a),a],b,Array.prototype.slice.call(arguments,2));return a};var Da=Array.prototype.indexOf?function(a,b,c){w(null!=a.length);return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ea=Array.prototype.filter?function(a,b,c){w(null!=a.length);return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=p(a)?a.split(""):a,n=0;n<d;n++)if(n in h){var ha=h[n];b.call(c,ha,n,a)&&(e[f++]=
ha)}return e},Fa=Array.prototype.map?function(a,b,c){w(null!=a.length);return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=p(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e},Ga=function(a,b){b=Da(a,b);var c;if(c=0<=b)w(null!=a.length),Array.prototype.splice.call(a,b,1);return c},Ha=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)},Ia=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(ba(d)){var e=
a.length||0,f=d.length||0;a.length=e+f;for(var h=0;h<f;h++)a[e+h]=d[h]}else a.push(d)}};var Ja=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},Ka=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},x=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1},La="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ma=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<La.length;f++)c=La[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var y;a:{var Na=k.navigator;if(Na){var Oa=Na.userAgent;if(Oa){y=Oa;break a}}y=""}var z=function(a){return-1!=y.indexOf(a)};var Qa=function(){this.$a="";this.cb=Pa;this.lb=null};Qa.prototype.toString=function(){return"SafeHtml{"+this.$a+"}"};var Pa={};var Ra=function(a,b){var c=0;return function(d){k.clearTimeout(c);var e=arguments;c=k.setTimeout(function(){a.apply(b,e)},500)}};var Sa="StopIteration"in k?k.StopIteration:{message:"StopIteration",stack:""},Ta=function(){};Ta.prototype.next=function(){throw Sa;};Ta.prototype.la=function(){return this};var A=function(a,b){this.s={};this.j=[];this.ka=this.G=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};A.prototype.H=function(){Ua(this);for(var a=[],b=0;b<this.j.length;b++)a.push(this.s[this.j[b]]);return a};A.prototype.ba=function(){return 0==this.G};
A.prototype.remove=function(a){return Object.prototype.hasOwnProperty.call(this.s,a)?(delete this.s[a],this.G--,this.ka++,this.j.length>2*this.G&&Ua(this),!0):!1};var Ua=function(a){if(a.G!=a.j.length){for(var b=0,c=0;b<a.j.length;){var d=a.j[b];Object.prototype.hasOwnProperty.call(a.s,d)&&(a.j[c++]=d);b++}a.j.length=c}if(a.G!=a.j.length){for(var e={},c=b=0;b<a.j.length;)d=a.j[b],Object.prototype.hasOwnProperty.call(e,d)||(a.j[c++]=d,e[d]=1),b++;a.j.length=c}};
A.prototype.set=function(a,b){Object.prototype.hasOwnProperty.call(this.s,a)||(this.G++,this.j.push(a),this.ka++);this.s[a]=b};A.prototype.addAll=function(a){var b;if(a instanceof A)Ua(a),b=a.j.concat(),a=a.H();else{b=[];var c=0,d;for(d in a)b[c++]=d;a=Ka(a)}for(c=0;c<b.length;c++)this.set(b[c],a[c])};
A.prototype.la=function(a){Ua(this);var b=0,c=this.ka,d=this,e=new Ta;e.next=function(){if(c!=d.ka)throw Error("The map has changed since the iterator was created");if(b>=d.j.length)throw Sa;var e=d.j[b++];return a?e:d.s[e]};return e};var Va=function(a){if(a.H&&"function"==typeof a.H)return a.H();if(p(a))return a.split("");if(ba(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ka(a)};var Wa=function(a){this.s=new A;a&&this.addAll(a)},Xa=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[da]||(a[da]=++ea)):b.substr(0,1)+a};g=Wa.prototype;g.add=function(a){this.s.set(Xa(a),a)};g.addAll=function(a){a=Va(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};g.removeAll=function(a){a=Va(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};g.remove=function(a){return this.s.remove(Xa(a))};g.ba=function(){return this.s.ba()};g.H=function(){return this.s.H()};g.la=function(){return this.s.la(!1)};var Ya=function(){return z("iPhone")&&!z("iPod")&&!z("iPad")||z("iPad")||z("iPod")};var Za=function(a){Za[" "](a);return a};Za[" "]=function(){};var ab=function(a,b){var c=$a;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var bb=z("Opera"),B=z("Trident")||z("MSIE"),cb=z("Edge"),C=z("Gecko")&&!(-1!=y.toLowerCase().indexOf("webkit")&&!z("Edge"))&&!(z("Trident")||z("MSIE"))&&!z("Edge"),D=-1!=y.toLowerCase().indexOf("webkit")&&!z("Edge"),db=function(){var a=k.document;return a?a.documentMode:void 0},eb;
a:{var fb="",gb=function(){var a=y;if(C)return/rv\:([^\);]+)(\)|;)/.exec(a);if(cb)return/Edge\/([\d\.]+)/.exec(a);if(B)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(D)return/WebKit\/(\S+)/.exec(a);if(bb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();gb&&(fb=gb?gb[1]:"");if(B){var hb=db();if(null!=hb&&hb>parseFloat(fb)){eb=String(hb);break a}}eb=fb}
var ib=eb,$a={},E=function(a){return ab(a,function(){for(var b=0,c=na(String(ib)).split("."),d=na(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",n=d[f]||"";do{h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];n=/(\d*)(\D*)(.*)/.exec(n)||["","","",""];if(0==h[0].length&&0==n[0].length)break;b=wa(0==h[1].length?0:parseInt(h[1],10),0==n[1].length?0:parseInt(n[1],10))||wa(0==h[2].length,0==n[2].length)||wa(h[2],n[2]);h=h[3];n=n[3]}while(0==b)}return 0<=b})},jb;var kb=k.document;
jb=kb&&B?db()||("CSS1Compat"==kb.compatMode?parseInt(ib,10):5):void 0;var F=function(a,b,c,d,e){this.reset(a,b,c,d,e)};F.prototype.Ja=null;var lb=0;F.prototype.reset=function(a,b,c,d,e){"number"==typeof e||lb++;d||r();this.T=a;this.Ab=b;delete this.Ja};F.prototype.setLevel=function(a){this.T=a};F.prototype.getMessage=function(){return this.Ab};var G=function(a){this.Bb=a;this.O=this.ma=this.T=this.ga=null},mb=function(a,b){this.name=a;this.value=b};mb.prototype.toString=function(){return this.name};var nb=new mb("SEVERE",1E3),ob=new mb("CONFIG",700);G.prototype.getParent=function(){return this.ga};G.prototype.getChildren=function(){this.ma||(this.ma={});return this.ma};G.prototype.setLevel=function(a){this.T=a};var pb=function(a){if(a.T)return a.T;if(a.ga)return pb(a.ga);Ba("Root logger has no level set.");return null};
G.prototype.log=function(a,b,c){if(a.value>=pb(this).value)for("function"==l(b)&&(b=b()),a=new F(a,String(b),this.Bb),c&&(a.Ja=c),c="log:"+a.getMessage(),k.console&&(k.console.timeStamp?k.console.timeStamp(c):k.console.markTimeline&&k.console.markTimeline(c)),k.msWriteProfilerMark&&k.msWriteProfilerMark(c),c=this;c;){var d=c,e=a;if(d.O)for(var f=0;b=d.O[f];f++)b(e);c=c.getParent()}};G.prototype.severe=function(a,b){this.log(nb,a,b)};G.prototype.config=function(a,b){this.log(ob,a,b)};
var qb={},rb=null,sb=function(a){rb||(rb=new G(""),qb[""]=rb,rb.setLevel(ob));var b;if(!(b=qb[a])){b=new G(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=sb(a.substr(0,c));c.getChildren()[d]=b;b.ga=c;qb[a]=b}return b};var tb=sb("studioinnovation.layouts.lightbox.tetris.utils"),ub=function(a,b){var c;if(x(ka,a))c="sampledError";else if(x(ja,a))c="sampledInfo";else{tb&&tb.severe('"'+a+'" must be in the Info or Error enum to be reported.',void 0);return}a="CreativeToolset.internals.gen204."+c+'("'+a+'", '+JSON.stringify(b)+", 1);";Enabler.invokeExternalJsFunction(a)},H=function(a,b){return new (Function.prototype.bind.apply(a,Array.prototype.slice.call(arguments)))};var I=function(a,b){this.width=a;this.height=b};I.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};I.prototype.ba=function(){return!(this.width*this.height)};var vb=!C&&!B||B&&9<=Number(jb)||C&&E("1.9.1");B&&E("9");var wb=function(){var a=window.document,a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new I(a.clientWidth,a.clientHeight)},J=function(a){this.M=a||k.document||document};J.prototype.getElement=function(a){return p(a)?this.M.getElementById(a):a};J.prototype.createElement=function(a){return this.M.createElement(String(a))};J.prototype.appendChild=function(a,b){a.appendChild(b)};
J.prototype.getChildren=function(a){return vb&&void 0!=a.children?a.children:Ea(a.childNodes,function(a){return 1==a.nodeType})};var K=function(){this.Y=this.Y;this.fa=this.fa};K.prototype.Y=!1;K.prototype.dispose=function(){this.Y||(this.Y=!0,this.v())};K.prototype.v=function(){if(this.fa)for(;this.fa.length;)this.fa.shift()()};var L=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.I=!1;this.ab=!0};L.prototype.preventDefault=function(){this.defaultPrevented=!0;this.ab=!1};var xb=!B||9<=Number(jb),yb=B&&!E("9");!D||E("528");C&&E("1.9b")||B&&E("8")||bb&&E("9.5")||D&&E("528");C&&!E("8")||B&&E("9");var zb=function(a,b){L.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.Z=this.state=null;if(a){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(C){var e;a:{try{Za(b.nodeName);e=!0;break a}catch(f){}e=
!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.offsetX=D||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=D||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,
this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.Z=a;a.defaultPrevented&&this.preventDefault()}};u(zb,L);
zb.prototype.preventDefault=function(){zb.D.preventDefault.call(this);var a=this.Z;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,yb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Ab="closure_listenable_"+(1E6*Math.random()|0),Bb=function(a){return!(!a||!a[Ab])},Cb=0;var Db=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.$=e;this.key=++Cb;this.removed=this.X=!1},Eb=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.$=null};var M=function(a){this.src=a;this.o={};this.W=0};M.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.o[f];a||(a=this.o[f]=[],this.W++);var h=Fb(a,b,d,e);-1<h?(b=a[h],c||(b.X=!1)):(b=new Db(b,this.src,f,!!d,e),b.X=c,a.push(b));return b};M.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.o))return!1;var e=this.o[a];b=Fb(e,b,c,d);return-1<b?(Eb(e[b]),w(null!=e.length),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.o[a],this.W--),!0):!1};
var Gb=function(a,b){var c=b.type;c in a.o&&Ga(a.o[c],b)&&(Eb(b),0==a.o[c].length&&(delete a.o[c],a.W--))};M.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.o)if(!a||c==a){for(var d=this.o[c],e=0;e<d.length;e++)++b,Eb(d[e]);delete this.o[c];this.W--}return b};M.prototype.N=function(a,b,c,d){a=this.o[a.toString()];var e=-1;a&&(e=Fb(a,b,c,d));return-1<e?a[e]:null};
var Fb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.$==d)return e}return-1};var Hb="closure_lm_"+(1E6*Math.random()|0),Ib={},Jb=0,N=function(a,b,c,d,e){if(m(b)){for(var f=0;f<b.length;f++)N(a,b[f],c,d,e);return null}c=Kb(c);return Bb(a)?a.listen(b,c,d,e):Lb(a,b,c,!1,d,e)},Lb=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=!!e,n=Mb(a);n||(a[Hb]=n=new M(a));c=n.add(b,c,d,e,f);if(c.proxy)return c;d=Nb();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,h);else if(a.attachEvent)a.attachEvent(Ob(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");
Jb++;return c},Nb=function(){var a=Pb,b=xb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},Qb=function(a,b,c,d,e){if(m(b)){for(var f=0;f<b.length;f++)Qb(a,b[f],c,d,e);return null}c=Kb(c);return Bb(a)?a.Wa(b,c,d,e):Lb(a,b,c,!0,d,e)},Rb=function(a,b,c,d,e){if(m(b))for(var f=0;f<b.length;f++)Rb(a,b[f],c,d,e);else c=Kb(c),Bb(a)?a.Da(b,c,d,e):a&&(a=Mb(a))&&(b=a.N(b,c,!!d,e))&&Sb(b)},Sb=function(a){if("number"!=typeof a&&a&&!a.removed){var b=
a.src;if(Bb(b))Gb(b.u,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(Ob(c),d);Jb--;(c=Mb(b))?(Gb(c,a),0==c.W&&(c.src=null,b[Hb]=null)):Eb(a)}}},Ob=function(a){return a in Ib?Ib[a]:Ib[a]="on"+a},Ub=function(a,b,c,d){var e=!0;if(a=Mb(a))if(b=a.o[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=Tb(f,d),e=e&&!1!==f)}return e},Tb=function(a,b){var c=a.listener,d=a.$||a.src;a.X&&Sb(a);return c.call(d,
b)},Pb=function(a,b){if(a.removed)return!0;if(!xb){var c=b||aa("window.event");b=new zb(c,this);var d=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var e=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==c.returnValue)c.returnValue=!0}c=[];for(e=b.currentTarget;e;e=e.parentNode)c.push(e);a=a.type;for(e=c.length-1;!b.I&&0<=e;e--){b.currentTarget=c[e];var f=Ub(c[e],a,!0,b),d=d&&f}for(e=0;!b.I&&e<c.length;e++)b.currentTarget=c[e],f=Ub(c[e],a,!1,b),d=d&&f}return d}return Tb(a,
new zb(b,this))},Mb=function(a){a=a[Hb];return a instanceof M?a:null},Vb="__closure_events_fn_"+(1E9*Math.random()>>>0),Kb=function(a){w(a,"Listener can not be null.");if("function"==l(a))return a;w(a.handleEvent,"An object listener must have handleEvent method.");a[Vb]||(a[Vb]=function(b){return a.handleEvent(b)});return a[Vb]};var O=function(){K.call(this);this.u=new M(this);this.fb=this;this.za=null};u(O,K);O.prototype[Ab]=!0;g=O.prototype;g.addEventListener=function(a,b,c,d){N(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){Rb(this,a,b,c,d)};
g.dispatchEvent=function(a){Wb(this);var b,c=this.za;if(c){b=[];for(var d=1;c;c=c.za)b.push(c),w(1E3>++d,"infinite loop")}c=this.fb;d=a.type||a;if(p(a))a=new L(a,c);else if(a instanceof L)a.target=a.target||c;else{var e=a;a=new L(d,c);Ma(a,e)}var e=!0,f;if(b)for(var h=b.length-1;!a.I&&0<=h;h--)f=a.currentTarget=b[h],e=Xb(f,d,!0,a)&&e;a.I||(f=a.currentTarget=c,e=Xb(f,d,!0,a)&&e,a.I||(e=Xb(f,d,!1,a)&&e));if(b)for(h=0;!a.I&&h<b.length;h++)f=a.currentTarget=b[h],e=Xb(f,d,!1,a)&&e;return e};
g.v=function(){O.D.v.call(this);this.u&&this.u.removeAll(void 0);this.za=null};g.listen=function(a,b,c,d){Wb(this);return this.u.add(String(a),b,!1,c,d)};g.Wa=function(a,b,c,d){return this.u.add(String(a),b,!0,c,d)};g.Da=function(a,b,c,d){return this.u.remove(String(a),b,c,d)};
var Xb=function(a,b,c,d){b=a.u.o[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.removed&&h.capture==c){var n=h.listener,ha=h.$||h.src;h.X&&Gb(a.u,h);e=!1!==n.call(ha,d)&&e}}return e&&0!=d.ab};O.prototype.N=function(a,b,c,d){return this.u.N(String(a),b,c,d)};var Wb=function(a){w(a.u,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var Yb=function(a,b,c){if("function"==l(a))c&&(a=q(a,c));else if(a&&"function"==typeof a.handleEvent)a=q(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:k.setTimeout(a,b||0)};var Zb=!1,$b="[Innovation Logger]";t("common.utils.logger.setEnabled",function(a){Zb=a});t("common.utils.logger.setPrefix",function(a){$b="["+a+"]"});t("common.utils.logger.error",function(a,b){Zb&&([].unshift.call(arguments,$b),console.error.apply(console,arguments))});var P=function(a,b){Zb&&([].unshift.call(arguments,$b),console.log.apply(console,arguments))};t("common.utils.logger.log",P);var ac=function(a,b){Zb&&([].unshift.call(arguments,$b),console.warn.apply(console,arguments))};
t("common.utils.logger.warn",ac);var Q=function(){O.call(this);this.Ga=studio.Enabler.getInstance();this.id="";this.l=this.type=this.path=null;this.O={}};u(Q,O);g=Q.prototype;g.addPropertyChangeListener=function(a,b){var c=function(a){P("[propertyChangeHandler] "+this.path+" - "+b+": "+a)}.bind(this);studio.sdk.configurable.binding.addPropertyChangeListener(a,b,c);this.O[b]=c};g.counter=function(a){P("["+this.getPath()+"] counter: "+a);studio.sdk.configurable.counter(this.l,a)};
g.exit=function(a,b){P("["+this.getPath()+"] exit: "+a);/^[\s\xa0]*$/.test(null==b?"":String(b))?studio.sdk.configurable.exit(this.l,a):studio.sdk.configurable.exit(this.l,a,b)};g.getPath=function(){return this.path};g.getType=function(){return this.type};var bc=function(a,b){var c=typeof b;return"string"==c||"number"==c||"boolean"==c||void 0==b||void 0!==b["@type"]&&"color"==b["@type"].toLowerCase()||void 0!==b["@type"]&&"url"==b["@type"].toLowerCase()||void 0!==b["@value"]&&bc(a,b["@value"])};
g=Q.prototype;g.register=function(a,b,c){if(ca(a)){this.l&&this.unregister();this.l=a[b];this.id=c||this.l["@id"];this.path=studio.sdk.configurable.config.getPath(this.l);this.type=studio.sdk.configurable.config.getType(this.l);for(var d in this.l)bc(this,this.l[d])&&"@id"!=d&&this.addPropertyChangeListener.call(this,a[b],d);P("[register] id: "+this.path+" - type: "+this.type)}};g.removePropertyChangeListener=function(a,b){studio.sdk.configurable.binding.removePropertyChangeListener(a,b,this.O[b])};
g.startTimer=function(a){P("["+this.getPath()+"] startTimer: "+a);studio.sdk.configurable.startTimer(this.l,a)};g.stopTimer=function(a){P("["+this.getPath()+"] stopTimer: "+a);studio.sdk.configurable.stopTimer(this.l,a)};g.unregister=function(){if(this.l){P("[unregister] id: "+this.path+" - type: "+this.type);var a=this.l,b;for(b in this.l)bc(this,this.l[b])&&"@id"!=b&&this.removePropertyChangeListener.call(this,a,b);this.id="";this.l=this.type=this.path=null}};var cc=function(a){Q.call(this);this.jb=p(a)?document.getElementById(a):a};u(cc,Q);var dc=function(a,b,c){cc.call(this,a);this.Aa=[];this.m=null;this.V=b;this.Ea=this.ja=-1;this.L=c};u(dc,cc);var ec={};g=dc.prototype;g.prepare=function(){this.m.prepare()};g.activate=function(){null==this.m||this.m.getIsActive()||(this.m.activate(),this.Ea=r(),0<this.L?(k.clearTimeout(this.ja),this.ja=Yb(q(this.bb,this,!1),this.L)):this.m.stopAnimation())};g.deactivate=function(){null!=this.m&&this.m.getIsActive()&&this.bb(!0)};g.invalidateSize=function(){this.m.invalidateSize()};
g.register=function(a,b,c){dc.D.register.call(this,a,b,c);this.update()};g.Eb=function(a,b){var c=a.type;"Element interacted"==c&&this.dispatchEvent("userinteracted");x(ka,c)||x(ja,c)?ub(c,a.gen204_params||{}):x(ia,a.type)||studio.sdk.configurable.counter(b,a.type,!a.deDupe)};g.hb=function(a,b){this.dispatchEvent("userinteracted");tetris.config.isEnabled(tetris.config.Experiment.USE_EXIT_OVERRIDE)?Enabler.exitOverride(a.type,a.href):studio.sdk.configurable.exit(b,a.type,a.href)};
g.xb=function(a){Enabler.invokeExternalJsFunction("googlecreative.reporting.sharedReporter.reportEvents(["+JSON.stringify({unifiedReportingEvent:{type:"CUSTOM_EVENT",name:a.type},count:1})+"]);")};g.Nb=function(){for(;this.Aa.length;){var a=this.Aa.shift();studio.video.Reporter.attach(a.id,a.video,!0)}};
g.Mb=function(a){var b=a.id;a=a.video;studio.video&&studio.video.Reporter?studio.video.Reporter.attach(b,a,!0):(this.Aa.push({id:b,video:a}),Enabler.loadModule(studio.module.ModuleId.VIDEO,q(this.Nb,this)))};
g.update=function(){if(null!=this.m){k.clearTimeout(this.ja);this.deactivate();var a=this.m.getElement();a&&a.parentNode&&a.parentNode.removeChild(a);Ga(ec[this.V],this.m);this.m.dispose();this.m=null}a={};a[tetris.factory.RenderPresenterArg.DATA]=this.l;a[tetris.factory.RenderPresenterArg.PARENT_EL]=this.jb;a[tetris.factory.RenderPresenterArg.PRESENTER_TYPE]=this.V;a[tetris.factory.RenderPresenterArg.GET_TYPE_FN]=studio.sdk.configurable.config.getType;a[tetris.factory.RenderPresenterArg.HANDLE_PINGBACK_FN]=
q(this.Eb,this);a[tetris.factory.RenderPresenterArg.HANDLE_CLICK_THROUGH_FN]=q(this.hb,this);a[tetris.factory.RenderPresenterArg.HANDLE_LATENCY_FN]=q(this.xb,this);a[tetris.factory.RenderPresenterArg.RESOLVE_URL_FN]=q(this.Ga.getUrl,this.Ga);a[tetris.factory.RenderPresenterArg.HANDLE_VIDEO_CREATED_FN]=q(this.Mb,this);this.m=tetris.factory.renderPresenter(a);null==ec[this.V]&&(ec[this.V]=[]);ec[this.V].push(this.m);this.dispatchEvent("updated")};
g.bb=function(a){this.m.getIsAnimating()&&(k.clearTimeout(this.ja),a?this.m.deactivate():this.m.stopAnimation(),0<this.L&&(a=r()-this.Ea,this.L-=a))};t("presenters",ec);var fc=function(){Q.call(this)};u(fc,Q);fc.prototype.register=function(a,b,c){fc.D.register.call(this,a,b,c);tetris.themer.uninstall();a=this.l.common;tetris.themer.install(a.theme,a.fontFamily,a.fontStyle,a.fontWeight,a.fontLockerFontName)};var gc=function(){this.ha=void 0},hc=function(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(m(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),e=d[f],hc(a,a.ha?a.ha.call(d,String(f),e):e,c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(f),ic(d,c),c.push(":"),hc(a,a.ha?a.ha.call(b,d,e):e,c),
f=","));c.push("}");return}}switch(typeof b){case "string":ic(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}},jc={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},kc=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,ic=function(a,b){b.push('"',a.replace(kc,
function(a){var b=jc[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),jc[a]=b);return b}),'"')};var R=function(){O.call(this)};u(R,O);R.ya=void 0;R.getInstance=function(){return R.ya?R.ya:R.ya=new R};
var lc=parseInt(1E4*Math.random(),10).toString(),mc=["touchstart","touchend","click","mousedown","mouseup"],oc=function(a){Enabler.invokeExternalJsFunction("CreativeToolset.internals.enableRemoteEvents(true);");N(document.body,mc,function(a){Enabler.invokeExternalJsFunction('(function(e) {var sink = CreativeToolset.internals.creativeBodyRemoteEventSink;if (typeof sink == "function") { sink(e); }})('+nc(a)+")")},!1,a)},nc=function(a){var b=a.Z,c={type:b.type,ctrlKey:b.ctrlKey,shiftKey:b.shiftKey,altKey:b.altKey,
metaKey:b.metaKey,timeStamp:b.timeStamp||r()};switch(a.type){case "touchstart":case "touchend":Ma(c,{touches:pc(b.touches),targetTouches:pc(b.targetTouches),changedTouches:pc(b.changedTouches)});break;case "click":case "mousedown":case "mouseup":Ma(c,{screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY,button:b.button,buttons:b.buttons})}a=[];hc(new gc,c,a);return a.join("")},pc=function(a){return null!==a&&void 0!==a?Fa(a,function(a){return{identifier:a.identifier,screenX:a.screenX,
screenY:a.screenY,clientX:a.clientX,clientY:a.clientY,pageX:a.pageX,pageY:a.pageY,radiusX:a.radiusX,radiusY:a.radiusY,force:a.force}}):[]};R.prototype.ra=function(){clearInterval(this.ub);Rb(window,"message",this.Xa,!1,this);this.dispatchEvent("init")};R.prototype.Xa=function(a){(a=a.Z)&&a.origin&&-1<a.origin.indexOf("adspreview.googleusercontent.com")?this.ra():a&&a.data&&a.data.seed==lc&&null!=a.data.ctp&&this.ra()};var rc=function(){return!qc()&&(z("iPod")||z("iPhone")||z("Android")||z("IEMobile"))},qc=function(){return z("iPad")||z("Android")&&!z("Mobile")||z("Silk")};var tc=function(a){var b={cursor:"pointer",position:"absolute",zIndex:1E3,top:0,right:0};if(p(b))(b=sc(a,b))&&(a.style[b]=void 0);else for(var c in b){var d=a,e=b[c],f=sc(d,c);f&&(d.style[f]=e)}},uc={},sc=function(a,b){var c=uc[b];if(!c){var d=xa(b),c=d;void 0===a.style[d]&&(d=(D?"Webkit":C?"Moz":B?"ms":bb?"O":null)+ya(d),void 0!==a.style[d]&&(c=d));uc[b]=c}return c};var S=function(a,b,c){O.call(this);this.F=document.getElementById(a);this.ua=document.getElementById(b);if(!this.F||!this.ua)throw"[FullExpansionController] Invalid collapsed/expanded element ID";this.La=c||"hover_or_click";this.Ra=this.C=this.P=!1;this.J=new I(0,0);this.Ma=this.Na=void 0;this.Ba=this.Ca=-1;this.da=this.ea=this.R=!1;a=studio.common.Environment;this.Sa=a.hasType(a.Type.LOCAL);this.aa=wb();this.Sa&&(a=document.createElement("IMG"),a.src="https://pagead2.googlesyndication.com/pagead/bf/images/close_circle.png",
tc(a),N(a,"click",function(){this.P=!0;window.setTimeout(q(function(){this.P=!1},this),2E3);this.Pa()},!1,this),this.ua.appendChild(a));vc(this,!1);Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_SUPPORT,this.Ib,!1,this);Enabler.addEventListener(studio.events.StudioEvent.ABOUT_TO_EXPAND,this.eb,!1,this);N(Enabler,studio.events.StudioEvent.FULLSCREEN_EXPAND_START,this.Ka,!1,this);N(Enabler,studio.events.StudioEvent.FULLSCREEN_COLLAPSE_START,this.oa,!1,this);N(Enabler,studio.events.StudioEvent.FULLSCREEN_COLLAPSE_FINISH,
this.na,!1,this);Ya()&&studio.common.Environment.hasType(studio.common.Environment.Type.IN_APP)||N(Enabler,studio.events.StudioEvent.EXIT,this.Pa,!1,this);wc()};u(S,O);
var xc=14/9,yc=1/xc,zc=function(a){var b=-(a.aa.width/2)+"px",c=-(a.aa.height/2)+"px",d;d='studioV2.api.creatives[0].getAssets()[0].getContainerElement().style.position="absolute";studioV2.api.creatives[0].getAssets()[0].getContainerElement().style.left="50%";studioV2.api.creatives[0].getAssets()[0].getContainerElement().style.top="50%";'+('studioV2.api.creatives[0].getAssets()[0].getContainerElement().style.marginLeft="'+b+'";')+('studioV2.api.creatives[0].getAssets()[0].getContainerElement().style.marginTop="'+
c+'";')+'studioV2.api.creatives[0].getAssets()[0].getContainerElement().firstChild.style.position="absolute";';d+='studioV2.api.creatives[0].getAssets()[0].getContainerElement().firstChild.style.left="50%";';d+='studioV2.api.creatives[0].getAssets()[0].getContainerElement().firstChild.style.top="50%";';d=d+('studioV2.api.creatives[0].getAssets()[0].getContainerElement().firstChild.style.marginLeft="'+b+'";')+('studioV2.api.creatives[0].getAssets()[0].getContainerElement().firstChild.style.marginTop="'+
c+'";')+'studioV2.api.creatives[0].getAssets()[0].getContainerElement().parentNode.style.position="relative";';d+='studioV2.api.creatives[0].getAssets()[0].getContainerElement().parentNode.style.width="'+a.aa.width+'px";';d+='studioV2.api.creatives[0].getAssets()[0].getContainerElement().parentNode.style.height="'+a.aa.height+'px";';Enabler.invokeExternalJsFunction(d)};g=S.prototype;
g.enableExpansion=function(a,b){this.Na=a;this.Ma=b;this.R=null!=a&&null!=b;Enabler.isInitialized()?(this.R||Ya()||Enabler.setResponsiveExpanding(!0),Enabler.queryFullscreenSupport()):N(Enabler,studio.events.StudioEvent.INIT,function(){this.R||Ya()||Enabler.setResponsiveExpanding(!0);Enabler.queryFullscreenSupport()},!1,this)};g.Ka=function(){this.ea=!1;vc(this,!0);Enabler.counter("Lightbox Expand",!0);Enabler.startTimer("Lightbox Expansion Timer");Enabler.finishFullscreenExpand()};g.Pa=function(){Enabler.requestFullscreenCollapse()};
g.oa=function(){Ac(this)};g.na=function(){this.C&&Ac(this);wc()};g.isExpanded=function(){return this.C};var Ac=function(a){Enabler.counter("Lightbox Collapse",!0);Enabler.stopTimer("Lightbox Expansion Timer");vc(a,!1)},wc=function(){Enabler.invokeExternalJsFunction('studioV2.api.creatives[0].getAssets()[0].getContainerElement().firstChild.style.overflow="visible"')};
S.prototype.ia=function(){if(!this.C&&!this.P)if(this.R||this.da){this.ea&&this.Fa();if(this.R)var a=this.Na,b=this.Ma;else b=Bc(this.J.width,this.J.height),a=b.width,b=b.height;a&&b&&(this.Ca=a,this.Ba=b);Enabler.requestFullscreenExpand(a,b);this.ea=!0;this.dispatchEvent("requestExpand")}else this.da=!0,Enabler.queryFullscreenDimensions()};var Bc=function(a,b){var c=a,d=b,e=a/b;e>xc?c=b*xc:e<yc&&(d=a/yc);return new I(c,d)};S.prototype.Fa=function(){this.ea=!1;this.dispatchEvent("cancelExpand")};
var vc=function(a,b){a.ua.style.left=b?"0":"-9999px";a.C=b;a.C?a.F.style.display="none":Yb(function(){this.F.style.display="";Enabler.finishFullscreenCollapse()},0,a)};S.prototype.eb=function(){this.ia()};S.prototype.Ib=function(a){if(this.Ra=a.supported)Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_DIMENSIONS,this.Gb,!1,this),Enabler.queryFullscreenDimensions()};
S.prototype.Gb=function(a){this.J.width=a.width;this.J.height=a.height;if(this.C){Qb(window,"resize",q(function(){this.C&&this.Ka()},this));var b=Bc(this.J.width,this.J.height);a=b.width;b=b.height;if(a!=this.Ca||b!=this.Ba)Enabler.setResponsiveSize(a,b),this.Ca=a,this.Ba=b}else"hover"!=this.La&&N(this.F,"click",this.ia,!1,this),rc()||qc()||"click"==this.La||N(this.F,"mouseenter",this.ia,!1,this),this.Sa||N(this.F,"mouseleave",this.Fa,!1,this),zc(this),this.dispatchEvent("ready"),this.da&&(this.ia(),
this.da=!1)};var Cc=function(a,b,c){L.call(this,a);this.visibilityParams=b.visibilityParams;this.isFirstEvent=c};u(Cc,L);t("studioinnovation.visibility.VisibilityEvent",Cc);var T=function(a){O.call(this);this.Jb=a||1500;this.yb=r();this.Qa=this.va=!1;Enabler.addEventListener("visibilityChangeWithInfo",q(this.sb,this));Yb(q(this.zb,this),this.Jb)};u(T,O);t("studioinnovation.visibility.OsdBroadcaster.IS_FIRST_EVENT_KEY","isFirstEvent");t("studioinnovation.visibility.OsdBroadcaster.VISIBILITY_PARAMS_KEY","visibilityParams");
t("studioinnovation.visibility.OsdBroadcaster.VISIBILITY_FRACTION_KEY","visibilityFraction");t("studioinnovation.visibility.OsdBroadcaster.VISIBLE_BOX_KEY","visibleBox");t("studioinnovation.visibility.OsdBroadcaster.VISIBLITY_CHANGE_WITH_INFO_STUDIO_EVENT_TYPE","visibilityChangeWithInfo");T.prototype.sb=function(a){this.Qa&&ac("OsdBroadcaster received an osd message after declaringitself disconnected.");a=new Cc("innovationvisibilitychange",a,!this.va);this.va=!0;this.dispatchEvent(a)};
T.prototype.zb=function(){this.va||(this.Qa=!0,this.dispatchEvent(new L("innovationvisibilitytimeout")))};T.prototype.ob=function(){return this.yb};T.prototype.getLoadTime=T.prototype.ob;var Dc={Sb:!0},Ec={Tb:!0},U=function(){throw Error("Do not instantiate directly");};U.prototype.pa=null;U.prototype.toString=function(){return this.content};var Fc=function(){U.call(this)};u(Fc,U);Fc.prototype.qa=Dc;var Hc=function(){var a=Gc({vb:"invitation",kb:"cta",nb:"expanded"});if(!ca(a))return String(a);if(a instanceof U){if(a.qa===Dc)return Ca(a.content);if(a.qa===Ec)return va(a.content)}Ba("Soy template output is unsafe for use as HTML: "+a);return"zSoyz"};var V=function(a){K.call(this);this.wa=a;this.j={}};u(V,K);var Ic=[];V.prototype.listen=function(a,b,c,d){m(b)||(b&&(Ic[0]=b.toString()),b=Ic);for(var e=0;e<b.length;e++){var f=N(a,b[e],c||this.handleEvent,d||!1,this.wa||this);if(!f)break;this.j[f.key]=f}return this};V.prototype.Wa=function(a,b,c,d){return Jc(this,a,b,c,d)};var Jc=function(a,b,c,d,e,f){if(m(c))for(var h=0;h<c.length;h++)Jc(a,b,c[h],d,e,f);else{b=Qb(b,c,d||a.handleEvent,e,f||a.wa||a);if(!b)return a;a.j[b.key]=b}return a};
V.prototype.Da=function(a,b,c,d,e){if(m(b))for(var f=0;f<b.length;f++)this.Da(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.wa||this,c=Kb(c),d=!!d,b=Bb(a)?a.N(b,c,d,e):a?(a=Mb(a))?a.N(b,c,d,e):null:null,b&&(Sb(b),delete this.j[b.key]);return this};V.prototype.removeAll=function(){Ja(this.j,function(a,b){this.j.hasOwnProperty(b)&&Sb(a)},this);this.j={}};V.prototype.v=function(){V.D.v.call(this);this.removeAll()};
V.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var W=function(a,b){O.call(this);this.sa=[];this.Kb=!!b;this.ta=new V(this);this.wb=window.parent!=window;if(a)if(m(a))for(b=0;b<a.length;b++)Kc(this,a[b].M);else Kc(this,a.M);else a=la||(la=new J),Kc(this,a.M);this.Ta=r()};u(W,O);W.prototype.Ya=0;var Lc=["click","dblclick","mousedown","mousemove","mouseup"],Mc=["touchend","touchmove","touchstart"],Nc=["keydown","keyup"];W.prototype.v=function(){W.D.v.call(this);this.ta.dispose();this.ta=null;delete this.sa};
var Kc=function(a,b){if(!(0<=Da(a.sa,b))){a.sa.push(b);var c=!a.Kb,d=Ha(Nc,Lc);a.wb||Ia(d,Mc);a.ta.listen(b,d,a.rb,c)}};W.prototype.rb=function(a){var b=!1;switch(a.type){case "mousemove":if("number"==typeof this.Ua&&this.Ua!=a.clientX||"number"==typeof this.Va&&this.Va!=a.clientY)b=!0;this.Ua=a.clientX;this.Va=a.clientY;break;default:b=!0}b&&(Ca(a.type),Oc(this))};var Oc=function(a){var b=r();a.Ta=b;b>a.Ya&&(a.dispatchEvent("activity"),a.Ya=b+3E3)};var Y=function(a,b){O.call(this);b||(Pc.add(this),null==X&&(X=new W),b=X);this.tb=a;this.K=b;this.gb=q(this.Cb,this);Qc(this)};u(Y,O);Y.prototype.xa=!1;var X=Y.prototype.U=null,Pc=new Wa,Qc=function(a){var b=a.tb+1-(r()-a.K.Ta);0<b?a.U=Yb(a.gb,b):(N(a.K,"activity",a.Za,!1,a),a.xa=!0,a.dispatchEvent("idle"))};Y.prototype.Cb=function(){this.U=null;Qc(this)};Y.prototype.Za=function(){Rc(this);this.dispatchEvent("active");Qc(this)};var Rc=function(a){a.xa&&(Rb(a.K,"activity",a.Za,!1,a),a.xa=!1)};
Y.prototype.v=function(){Rc(this);null!=this.U&&(k.clearTimeout(this.U),this.U=null);Pc.remove(this);null!=X&&Pc.ba()&&(X.dispose(),X=null);Y.D.v.call(this)};B&&E(8);var Sc=function(a){if(null!=a)switch(a.pa){case 1:return 1;case -1:return-1;case 0:return 0}return null},Tc=function(){U.call(this)};u(Tc,Fc);
var Vc=function(a){if(null!=a&&a.qa===Dc)return w(a.constructor===Fc||a.constructor===Tc),a;if(a instanceof Qa){var b=Uc,c;a instanceof Qa&&a.constructor===Qa&&a.cb===Pa?c=a.$a:(Ba("expected object of type SafeHtml, got '"+a+"' of type "+l(a)),c="type_error:SafeHtml");a=b(c,a.lb)}else a=Uc(va(String(String(a))),Sc(a));return a},Uc=function(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a,d){a=new b(String(a));void 0!==d&&(a.pa=d);return a}}(Tc);
(function(a){function b(a){this.content=a}b.prototype=a.prototype;return function(a,d){a=String(a);if(!a)return"";a=new b(a);void 0!==d&&(a.pa=d);return a}})(Tc);var Gc=function(a){return'<div id="'+Vc(a.vb)+'" class="view-container"><div id="'+Vc(a.kb)+'" class="view-container"></div><div id="'+Vc(a.Rb)+'" class="view-container"></div></div><div id="'+Vc(a.nb)+'" class="view-container" style="width:100%; height: 100%;"></div>'};Gc.Ub="studioinnovation.layouts.lightbox.tetris.templates.creative";var Z=function(){var a=document.body;w(Gc,"Soy template may not be null.");a.innerHTML=Hc();this.tetris=this.A=this.themer=null;this.S=!1;this.w=this.Ia=this.B=null;this.Db=H(T,3E4);this.ca=!0;aa("studio.sdk.gdn")?studio.sdk.gdn.getInitializedConfigByCallback(q(this.ib,this)):Wc(this)};
Z.prototype.ib=function(a){var b=a.getActiveExperimentLabels(),c=(a.getClientEnvironment()||{}).language,d=(a.getClientEnvironment()||{}).browserClass,e={};e[tetris.config.Field.ACTIVE_EXPERIMENTS]=b||[];e[tetris.config.Field.LOCALE]=c||"en-US";e[tetris.config.Field.BROWSER_CLASS]=d||(rc()||qc()?studio.common.Environment.hasType(studio.common.Environment.Type.IN_APP)?tetris.config.BrowserClass.IN_APP:tetris.config.BrowserClass.MOBILE_WEB:tetris.config.BrowserClass.DESKTOP);tetris.config.set(e);this.Ia=
Yb(q(this.Ha,this,null),2E3);a.retrieveCurrentEngagementState(q(this.Ha,this))};Z.prototype.Ha=function(a){k.clearTimeout(this.Ia);null!=a?this.S=a==studio.sdk.gdn.EngagementPhase.INVITATION_LARGE_CANVAS:ub("engagement_state_failure",{});Wc(this)};Z.prototype.Lb=function(){this.S&&Enabler.counter("GENERIC_ENGAGEMENT");null!=this.w&&null!=this.w.K&&Oc(this.w.K)};Z.prototype.Ob=function(){(this.S||this.B.isExpanded())&&this.tetris.activate()};
var Wc=function(a){a.themer=H(fc);a.tetris=H(dc,"expanded",tetris.factory.PresenterType.EXPANDED,24E4);N(a.tetris,"updated",q(a.Ob,a));N(a.tetris,"userinteracted",q(a.Lb,a));a.S||(a.A=H(dc,"cta",tetris.factory.PresenterType.INVITATION,3E4),a.B=H(S,"invitation","expanded","hover_or_click"),N(a.Db,"innovationvisibilitychange",q(a.Pb,a)));if(studio.sdk.configurable.getRuntimeMode()==studio.sdk.configurable.RUNTIME_MODE.TRAFFICK){var b=R.getInstance();Qb(b,"init",a.Oa,!1,a);N(window,"message",b.Xa,!1,
b);a=window.document.location.origin;a='(function(seed, origin){window.Creative = {};window.Creative.seed = seed;window.Creative.targetOrigin = origin;var s = document.createElement("script");s.src = "'+Enabler.getUrl("https://www.gstatic.com/doubleclick/studio/innovation/h5/layouts/creativeproxy/1/creativeproxy_min.js")+'";var t = document.getElementsByTagName("script")[0];t.parentNode.insertBefore(s, t);})("'+lc+'", "'+a+'")';b.ub=setInterval(b.ra.bind(b),2500);Enabler.invokeExternalJsFunction(a);
window.disableEventBubbling||oc(b)}else a.Oa()};Z.prototype.Fb=function(){Ya()&&tetris.config.getNumber(tetris.config.Field.BROWSER_CLASS,tetris.config.BrowserClass.DESKTOP)==tetris.config.BrowserClass.IN_APP||this.tetris.prepare()};var Xc=function(a){null!==a.w&&(a.w.dispose(),a.w=null)};g=Z.prototype;
g.mb=function(){this.tetris.activate();Xc(this);tetris.config.isEnabled(tetris.config.Experiment.LOG_IDLE_IN_TETRIS)&&(this.w=H(Y,5E3),this.w.listen("idle",this.qb,!1,this),this.w.listen("active",this.pb,!1,this))};g.qb=function(){ub("tetris_became_idle",{})};g.pb=function(){ub("tetris_became_active",{})};g.oa=function(){this.tetris.deactivate();Xc(this)};g.na=function(){this.A.invalidateSize()};
g.Pb=function(a){a=a.visibilityParams.visibilityFraction;!this.ca&&.5<=a?(this.ca=!0,Yc(this)):this.ca&&.5>a&&(this.ca=!1,this.B&&(this.B.P=!0),this.A&&this.A.deactivate())};var Yc=function(a){a.B&&(a.B.P=!1);a.A&&a.A.activate()};
Z.prototype.Oa=function(){this.S||(this.B.enableExpansion(),Enabler.addEventListener(studio.events.StudioEvent.ABOUT_TO_EXPAND,this.Fb,!1,this),Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_EXPAND_FINISH,this.mb,!1,this),Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_COLLAPSE_START,this.oa,!1,this),Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_COLLAPSE_FINISH,this.na,!1,this));studio.sdk.configurable.getConfiguration(q(this.Hb,this))};
Z.prototype.Hb=function(a){studio.sdk.configurable.setTranslationMethod(aa("GdnPreview.getConfig"));Zc(this,a);studio.sdk.configurable.binding.addValueChangeListener(a,q(Ra(function(){Zc(this,a)},this),this))};var Zc=function(a,b){a.themer.register(b,"tetris",1);a.tetris.register(b,"tetris",2);null!=a.A&&a.A.register(b,"tetris",3);Yc(a)};t("studioinnovation.layouts.lightbox.tetris.Tetris",Z);}).call(this);
